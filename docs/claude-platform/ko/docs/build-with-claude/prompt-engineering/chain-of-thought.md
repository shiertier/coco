# Claude가 생각하도록 하기 (사고의 연쇄 프롬프팅)로 성능 향상

Claude에게 단계별로 문제를 분석하도록 유도하여 복잡한 작업의 정확성과 일관성을 개선하는 방법을 알아보세요.

---

<Note>
While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

연구, 분석 또는 문제 해결과 같은 복잡한 작업에 직면했을 때, Claude에게 생각할 수 있는 공간을 제공하면 성능을 획기적으로 향상시킬 수 있습니다. 사고의 연쇄(CoT) 프롬프팅으로 알려진 이 기법은 Claude가 문제를 단계별로 분해하도록 장려하여 더 정확하고 미묘한 결과를 도출합니다.

## CoT 구현 전에

### Claude가 생각하도록 해야 하는 이유는?
- **정확성:** 문제를 단계별로 진행하면 특히 수학, 논리, 분석 또는 일반적으로 복잡한 작업에서 오류를 줄입니다.
- **일관성:** 구조화된 사고는 더 응집력 있고 잘 정리된 응답으로 이어집니다.
- **디버깅:** Claude의 사고 과정을 보면 프롬프트가 불명확할 수 있는 위치를 파악하는 데 도움이 됩니다.

### Claude가 생각하도록 하지 말아야 하는 이유는?
- 증가된 출력 길이는 지연 시간에 영향을 미칠 수 있습니다.
- 모든 작업이 깊이 있는 사고를 필요로 하지는 않습니다. 성능과 지연 시간의 올바른 균형을 보장하기 위해 CoT를 신중하게 사용하세요.

<Tip>복잡한 수학, 다단계 분석, 복잡한 문서 작성 또는 많은 요소가 있는 결정과 같이 인간이 생각해야 할 작업에 CoT를 사용하세요.</Tip>

***

## 생각을 위한 프롬프팅 방법

아래의 사고의 연쇄 기법은 **가장 간단한 것부터 가장 복잡한 것 순서로 정렬되어 있습니다**. 덜 복잡한 방법은 컨텍스트 윈도우에서 더 적은 공간을 차지하지만 일반적으로 덜 강력합니다.

<Tip>**CoT 팁**: 항상 Claude가 자신의 생각을 출력하도록 하세요. 사고 과정을 출력하지 않으면 생각이 일어나지 않습니다!</Tip>

- **기본 프롬프트**: 프롬프트에 "단계별로 생각하세요"를 포함하세요.
    - *어떻게* 생각할지에 대한 지침이 부족합니다(특히 작업이 앱, 사용 사례 또는 조직에 매우 특정적인 경우 이상적이지 않습니다)
    <section title="예시: 기부자 이메일 작성 (기본 CoT)">

        | 역할 | 내용 |
        | ---- | ------- |
        | 사용자 | 올해 Care for Kids 프로그램에 기여를 요청하는 기부자에게 개인화된 이메일을 작성하세요.<br/><br/>프로그램 정보:<br/>\\{\{PROGRAM_DETAILS}}<br/>\</program><br/><br/>기부자 정보:<br/>\<donor>\{\{DONOR_DETAILS}}<br/>\</donor><br/><br/>이메일을 작성하기 전에 단계별로 생각하세요. |
    
</section>
- **안내된 프롬프트**: Claude가 사고 과정에서 따를 구체적인 단계를 설명하세요.
    - 답변에서 생각을 분리하고 제거하기 쉽게 구조화하는 것이 부족합니다.
    <section title="예시: 기부자 이메일 작성 (안내된 CoT)">

        | 역할 | 내용 |
        | ---- | ------- |
        | 사용자 | 올해 Care for Kids 프로그램에 기여를 요청하는 기부자에게 개인화된 이메일을 작성하세요.<br/><br/>프로그램 정보:<br/>\\{\{PROGRAM_DETAILS}}<br/>\</program><br/><br/>기부자 정보:<br/>\<donor>\{\{DONOR_DETAILS}}<br/>\</donor><br/><br/>이메일을 작성하기 전에 생각하세요. 먼저 기부 이력과 과거에 지원한 캠페인을 고려하여 이 기부자에게 어떤 메시지가 어필할 수 있을지 생각해보세요. 그 다음, 기부자의 이력을 고려하여 Care for Kids 프로그램의 어떤 측면이 그들에게 어필할 수 있을지 생각해보세요. 마지막으로, 분석을 사용하여 개인화된 기부자 이메일을 작성하세요. |
    
</section>
- **구조화된 프롬프트**: `<thinking>` 및 `<answer>`와 같은 XML 태그를 사용하여 추론을 최종 답변과 분리하세요.
     <section title="예시: 기부자 이메일 작성 (구조화된 안내 CoT)">

        | 역할 | 내용 |
        | ---- | ------- |
        | 사용자 | 올해 Care for Kids 프로그램에 기여를 요청하는 기부자에게 개인화된 이메일을 작성하세요.<br/><br/>프로그램 정보:<br/>\\{\{PROGRAM_DETAILS}}<br/>\</program><br/><br/>기부자 정보:<br/>\<donor>\{\{DONOR_DETAILS}}<br/>\</donor><br/><br/>\<thinking> 태그에서 이메일을 작성하기 전에 생각하세요. 먼저 기부 이력과 과거에 지원한 캠페인을 고려하여 이 기부자에게 어떤 메시지가 어필할 수 있을지 생각해보세요. 그 다음, 기부자의 이력을 고려하여 Care for Kids 프로그램의 어떤 측면이 그들에게 어필할 수 있을지 생각해보세요. 마지막으로, 분석을 사용하여 \<email> 태그에서 개인화된 기부자 이메일을 작성하세요. |
    
</section>
    
### 예시

  <section title="예시: 생각 없는 재무 분석">

    단계별 사고 없이 Claude는 합리적으로 보이지만 깊이가 부족한 권장사항을 제공합니다. 정보에 입각한 결정을 내리는 데 중요한 잠재적 결과를 정량화하거나 과거 시장 성과를 고려하지 않습니다.
    | 역할 | 내용 |
    | ---- | ------- |
    | 사용자 | 당신은 재무 고문입니다. 고객이 $10,000을 투자하고 싶어합니다. 두 가지 옵션 중에서 선택할 수 있습니다: A) 역사적으로 연 12%를 반환하지만 변동성이 높은 주식, 또는 B) 연 6%를 보장하는 채권. 고객은 5년 후 주택 구입을 위한 계약금이 필요합니다. 어떤 옵션을 권장하시겠습니까? |
    | 어시스턴트 | 제공된 정보를 바탕으로 연 6%의 수익을 보장하는 채권인 옵션 B를 권장합니다. 그 이유는 다음과 같습니다:<br/><br/>1. 확실성: 채권은 보장된 연 6% 수익을 제공하므로 재무 계획에 확실성을 제공합니다. 이는 고객이 특정 재무 목표(계약금)와 고정된 기간(5년)을 가지고 있을 때 중요합니다.<br/>2. 위험 회피: 고객이 중요한 인생 사건(주택 구입)을 위해 이 돈이 필요하므로 위험 허용도가 낮을 가능성이 높습니다. 주식 시장의 변동성은 자금이 필요한 시점 근처에 하락장이 발생할 경우 계획을 위협할 수 있습니다.<br/>3. 투자 기간: 5년만 있으면 잠재적 주식 시장 하락에서 회복할 시간이 적습니다. 더 긴 투자 기간(10년 이상)이 일반적으로 주식 시장 변동성을 견디기에 더 적합합니다.<br/><br/>주식의 역사적 12% 수익은 매력적이지만 과거 성과가 미래 결과를 보장하지는 않습니다. 채권의 보장된 6%는 계약금을 할 시간이 되었을 때 고객이 필요한 자금을 가지고 있음을 보장합니다. |
  
</section>
  <section title="예시: 생각이 있는 재무 분석">

    단계별 사고를 통해 고문은 훨씬 더 풍부한 분석을 제공합니다. 두 시나리오에 대한 정확한 수치를 계산하고, 과거 시장 변동성을 고려하며, 고객의 위험 허용도를 깊이 있게 분석합니다. 이러한 철저한 추론은 더 확신 있고 정당화할 수 있는 권장사항으로 이어집니다.
    | 역할 | 내용 |
    | ---- | ------- |
    | 사용자 | 당신은 재무 고문입니다. 고객이 $10,000을 투자하고 싶어합니다. 두 가지 옵션 중에서 선택할 수 있습니다: A) 역사적으로 연 12%를 반환하지만 변동성이 높은 주식, 또는 B) 연 6%를 보장하는 채권. 고객은 5년 후 주택 구입을 위한 계약금이 필요합니다. 어떤 옵션을 권장하시겠습니까? 단계별로 생각하세요. |
    | 어시스턴트 | 고객에게 최적의 투자 옵션을 결정하기 위해 여러 요소를 단계별로 고려하겠습니다:<br/><br/>\<thinking><br/>1. 고객의 목표와 기간 이해:<br/>   - 목표: 주택 구입을 위한 계약금<br/>   - 기간: 5년<br/>   - 함의: 이것은 단기, 높은 우선순위의 재무 목표입니다. 고객은 상당한 위험이나 변동성을 감당할 수 없을 가능성이 높습니다.<br/><br/>2. 옵션 A (주식) 분석:<br/>   - 장점: 더 높은 역사적 수익 (연 12%)<br/>   - 단점: 변동성이 높음 (상당한 이익 또는 손실의 가능성을 의미)<br/>   - 5년 수익 계산:<br/>     - 최선의 경우 (연 12%): \$10,000 * (1.12)^5 ≈ \$17,623.42<br/>     - 최악의 경우 (시장 붕괴): 상당한 부분을 잃을 수 있음, 예: 50% 붕괴 = \$5,000<br/><br/>3. 옵션 B (채권) 분석:<br/>   - 장점: 보장된 수익 (연 6%)<br/>   - 단점: 역사적 주식 성과에 비해 낮은 수익<br/>   - 5년 수익 계산:<br/>     - 보장됨: \$10,000 * (1.06)^5 ≈ \$13,382.25<br/><br/>4. 위험 허용도 고려:<br/>   - 목표는 주택 계약금 (필수, 재량이 아님)<br/>   - 짧은 기간 (5년)은 시장 하락에서 회복할 능력을 제한함<br/>   - 결론: 고객은 낮은 위험 허용도를 가질 가능성이 높음<br/><br/>5. 역사적 관점:<br/>   - 주식의 12%는 역사적이며 보장되지 않음<br/>   - 5년 기간에 주식 시장은 크게 변할 수 있음:<br/>     - 2003-2007 (금융 위기 전): S&P 500 약 82% 상승<br/>     - 2007-2011 (위기 중): S&P 500 약 2% 하락<br/>   - 결론: 과거 성과가 특히 단기 결과를 보장하지 않음<br/><br/>6. 최종 분석:<br/>   - 옵션 A (주식): 더 높은 잠재적 수익이지만 계약금 목표를 충족하지 못할 수 있는 수용 불가능한 위험<br/>   - 옵션 B (채권): 최선의 경우 주식 시나리오의 약 80%를 보장하며, 자금 보유의 100% 확실성<br/>\</thinking><br/><br/>\<answer><br/>연 6%의 보장된 수익을 제공하는 채권인 옵션 B를 권장합니다. 주식의 역사적 12% 수익은 매력적이지만, 채권은 5년 후 주택 계약금을 위해 \$13,382.25를 보장합니다. 목표의 중요성과 짧은 기간을 고려할 때, 주식의 변동성은 수용할 수 없는 위험을 초래합니다. 채권은 확실성을 제공하며, 이는 그러한 중요한 재무 이정표에 매우 귀중합니다.<br/>\</answer> |
  
</section>

***

<CardGroup cols={3}>
  <Card title="프롬프트 라이브러리" icon="link" href="/docs/ko/resources/prompt-library/library">
    다양한 작업과 사용 사례를 위한 엄선된 프롬프트 선택으로 영감을 얻으세요.
  </Card>
  <Card title="GitHub 프롬프팅 튜토리얼" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    당사 문서에서 찾을 수 있는 프롬프트 엔지니어링 개념을 다루는 예시가 풍부한 튜토리얼입니다.
  </Card>
  <Card title="Google Sheets 프롬프팅 튜토리얼" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    대화형 스프레드시트를 통한 프롬프트 엔지니어링 튜토리얼의 더 가벼운 버전입니다.
  </Card>
</CardGroup>
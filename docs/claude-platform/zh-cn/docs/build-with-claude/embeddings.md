# åµŒå…¥å‘é‡

æ–‡æœ¬åµŒå…¥å‘é‡æ˜¯æ–‡æœ¬çš„æ•°å€¼è¡¨ç¤ºï¼Œèƒ½å¤Ÿæµ‹é‡è¯­ä¹‰ç›¸ä¼¼æ€§ã€‚æœ¬æŒ‡å—ä»‹ç»åµŒå…¥å‘é‡ã€å…¶åº”ç”¨ä»¥åŠå¦‚ä½•ä½¿ç”¨åµŒå…¥æ¨¡å‹è¿›è¡Œæœç´¢ã€æ¨èå’Œå¼‚å¸¸æ£€æµ‹ç­‰ä»»åŠ¡ã€‚

---

## å®æ–½åµŒå…¥å‘é‡ä¹‹å‰

åœ¨é€‰æ‹©åµŒå…¥å‘é‡æä¾›å•†æ—¶ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€æ±‚å’Œåå¥½è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼š

- æ•°æ®é›†å¤§å°å’Œé¢†åŸŸç‰¹å¼‚æ€§ï¼šæ¨¡å‹è®­ç»ƒæ•°æ®é›†çš„å¤§å°åŠå…¶ä¸æ‚¨è¦åµŒå…¥çš„é¢†åŸŸçš„ç›¸å…³æ€§ã€‚æ›´å¤§æˆ–æ›´å…·é¢†åŸŸç‰¹å¼‚æ€§çš„æ•°æ®é€šå¸¸ä¼šäº§ç”Ÿæ›´å¥½çš„é¢†åŸŸå†…åµŒå…¥å‘é‡
- æ¨ç†æ€§èƒ½ï¼šåµŒå…¥æŸ¥æ‰¾é€Ÿåº¦å’Œç«¯åˆ°ç«¯å»¶è¿Ÿã€‚è¿™å¯¹äºå¤§è§„æ¨¡ç”Ÿäº§éƒ¨ç½²æ¥è¯´æ˜¯ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„è€ƒè™‘å› ç´ 
- å®šåˆ¶åŒ–ï¼šåœ¨ç§æœ‰æ•°æ®ä¸Šç»§ç»­è®­ç»ƒçš„é€‰é¡¹ï¼Œæˆ–é’ˆå¯¹éå¸¸ç‰¹å®šé¢†åŸŸçš„æ¨¡å‹ä¸“ä¸šåŒ–ã€‚è¿™å¯ä»¥æé«˜åœ¨ç‹¬ç‰¹è¯æ±‡è¡¨ä¸Šçš„æ€§èƒ½

## å¦‚ä½•é€šè¿‡ Anthropic è·å–åµŒå…¥å‘é‡

Anthropic ä¸æä¾›è‡ªå·±çš„åµŒå…¥æ¨¡å‹ã€‚ä¸€ä¸ªæ‹¥æœ‰å¹¿æ³›é€‰æ‹©å’Œèƒ½åŠ›çš„åµŒå…¥å‘é‡æä¾›å•†ï¼Œæ¶µç›–äº†ä¸Šè¿°æ‰€æœ‰è€ƒè™‘å› ç´ çš„æ˜¯ Voyage AIã€‚

Voyage AI åˆ¶ä½œæœ€å…ˆè¿›çš„åµŒå…¥æ¨¡å‹ï¼Œå¹¶ä¸ºç‰¹å®šè¡Œä¸šé¢†åŸŸï¼ˆå¦‚é‡‘èå’ŒåŒ»ç–—ä¿å¥ï¼‰æä¾›å®šåˆ¶æ¨¡å‹ï¼Œæˆ–ä¸ºä¸ªåˆ«å®¢æˆ·æä¾›å®šåˆ¶å¾®è°ƒæ¨¡å‹ã€‚

æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†é’ˆå¯¹ Voyage AIï¼Œä½†æˆ‘ä»¬é¼“åŠ±æ‚¨è¯„ä¼°å„ç§åµŒå…¥å‘é‡ä¾›åº”å•†ï¼Œä»¥æ‰¾åˆ°æœ€é€‚åˆæ‚¨ç‰¹å®šç”¨ä¾‹çš„é€‰æ‹©ã€‚

## å¯ç”¨æ¨¡å‹

Voyage æ¨èä½¿ç”¨ä»¥ä¸‹æ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼š

| æ¨¡å‹ | ä¸Šä¸‹æ–‡é•¿åº¦ | åµŒå…¥ç»´åº¦ | æè¿° |
| --- | --- | --- | --- |
| `voyage-3-large` | 32,000 | 1024ï¼ˆé»˜è®¤ï¼‰ã€256ã€512ã€2048 | æœ€ä½³é€šç”¨å’Œå¤šè¯­è¨€æ£€ç´¢è´¨é‡ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2025/01/07/voyage-3-large/)ã€‚ |
| `voyage-3.5` | 32,000 | 1024ï¼ˆé»˜è®¤ï¼‰ã€256ã€512ã€2048 | é’ˆå¯¹é€šç”¨å’Œå¤šè¯­è¨€æ£€ç´¢è´¨é‡è¿›è¡Œä¼˜åŒ–ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2025/05/20/voyage-3-5/)ã€‚ |
| `voyage-3.5-lite` | 32,000 | 1024ï¼ˆé»˜è®¤ï¼‰ã€256ã€512ã€2048 | é’ˆå¯¹å»¶è¿Ÿå’Œæˆæœ¬è¿›è¡Œä¼˜åŒ–ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2025/05/20/voyage-3-5/)ã€‚ |
| `voyage-code-3` | 32,000 | 1024ï¼ˆé»˜è®¤ï¼‰ã€256ã€512ã€2048 | é’ˆå¯¹**ä»£ç **æ£€ç´¢è¿›è¡Œä¼˜åŒ–ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2024/12/04/voyage-code-3/)ã€‚ |
| `voyage-finance-2` | 32,000 | 1024 | é’ˆå¯¹**é‡‘è**æ£€ç´¢å’Œ RAG è¿›è¡Œä¼˜åŒ–ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2024/06/03/domain-specific-embeddings-finance-edition-voyage-finance-2/)ã€‚ |
| `voyage-law-2` | 16,000 | 1024 | é’ˆå¯¹**æ³•å¾‹**å’Œ**é•¿ä¸Šä¸‹æ–‡**æ£€ç´¢å’Œ RAG è¿›è¡Œä¼˜åŒ–ã€‚åŒæ—¶åœ¨æ‰€æœ‰é¢†åŸŸéƒ½æœ‰æ”¹è¿›çš„æ€§èƒ½ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2024/04/15/domain-specific-embeddings-and-retrieval-legal-edition-voyage-law-2/)ã€‚ |

æ­¤å¤–ï¼Œæ¨èä»¥ä¸‹å¤šæ¨¡æ€åµŒå…¥æ¨¡å‹ï¼š

| æ¨¡å‹ | ä¸Šä¸‹æ–‡é•¿åº¦ | åµŒå…¥ç»´åº¦ | æè¿° |
| --- | --- | --- | --- |
| `voyage-multimodal-3` | 32000 | 1024 | ä¸°å¯Œçš„å¤šæ¨¡æ€åµŒå…¥æ¨¡å‹ï¼Œå¯ä»¥å‘é‡åŒ–äº¤é”™çš„æ–‡æœ¬å’Œå†…å®¹ä¸°å¯Œçš„å›¾åƒï¼Œå¦‚ PDFã€å¹»ç¯ç‰‡ã€è¡¨æ ¼ã€å›¾å½¢ç­‰çš„æˆªå›¾ã€‚è¯¦æƒ…è¯·å‚è§[åšå®¢æ–‡ç« ](https://blog.voyageai.com/2024/11/12/voyage-multimodal-3/)ã€‚ |

éœ€è¦å¸®åŠ©å†³å®šä½¿ç”¨å“ªä¸ªæ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼ŸæŸ¥çœ‹[å¸¸è§é—®é¢˜è§£ç­”](https://docs.voyageai.com/docs/faq#what-embedding-models-are-available-and-which-one-should-i-use&ref=anthropic)ã€‚

## Voyage AI å…¥é—¨

è¦è®¿é—® Voyage åµŒå…¥å‘é‡ï¼š

1. åœ¨ Voyage AI ç½‘ç«™ä¸Šæ³¨å†Œ
2. è·å– API å¯†é’¥
3. ä¸ºæ–¹ä¾¿èµ·è§ï¼Œå°† API å¯†é’¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š

```bash
export VOYAGE_API_KEY="<your secret key>"
```

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨å®˜æ–¹çš„[`voyageai` Python åŒ…](https://github.com/voyage-ai/voyageai-python)æˆ– HTTP è¯·æ±‚æ¥è·å–åµŒå…¥å‘é‡ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚

### Voyage Python åº“

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… `voyageai` åŒ…ï¼š

```bash
pip install -U voyageai
```

ç„¶åï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡å¹¶å¼€å§‹ä½¿ç”¨å®ƒæ¥åµŒå…¥æ‚¨çš„æ–‡æœ¬ï¼š

```python
import voyageai

vo = voyageai.Client()
# è¿™å°†è‡ªåŠ¨ä½¿ç”¨ç¯å¢ƒå˜é‡ VOYAGE_API_KEYã€‚
# æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ vo = voyageai.Client(api_key="<your secret key>")

texts = ["Sample text 1", "Sample text 2"]

result = vo.embed(texts, model="voyage-3.5", input_type="document")
print(result.embeddings[0])
print(result.embeddings[1])
```

`result.embeddings` å°†æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªåµŒå…¥å‘é‡çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå‘é‡åŒ…å« 1024 ä¸ªæµ®ç‚¹æ•°ã€‚è¿è¡Œä¸Šè¿°ä»£ç åï¼Œä¸¤ä¸ªåµŒå…¥å‘é‡å°†åœ¨å±å¹•ä¸Šæ‰“å°å‡ºæ¥ï¼š

```
[-0.013131560757756233, 0.019828535616397858, ...]   # "Sample text 1" çš„åµŒå…¥å‘é‡
[-0.0069352793507277966, 0.020878976210951805, ...]  # "Sample text 2" çš„åµŒå…¥å‘é‡
```

åœ¨åˆ›å»ºåµŒå…¥å‘é‡æ—¶ï¼Œæ‚¨å¯ä»¥ä¸º `embed()` å‡½æ•°æŒ‡å®šä¸€äº›å…¶ä»–å‚æ•°ã€‚

æœ‰å…³ Voyage python åŒ…çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[Voyage æ–‡æ¡£](https://docs.voyageai.com/docs/embeddings#python-api)ã€‚

### Voyage HTTP API

æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡è¯·æ±‚ Voyage HTTP API æ¥è·å–åµŒå…¥å‘é‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸­é€šè¿‡ `curl` å‘½ä»¤å‘é€ HTTP è¯·æ±‚ï¼š

```bash
curl https://api.voyageai.com/v1/embeddings \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $VOYAGE_API_KEY" \
  -d '{
    "input": ["Sample text 1", "Sample text 2"],
    "model": "voyage-3.5"
  }'
```

æ‚¨å°†å¾—åˆ°çš„å“åº”æ˜¯ä¸€ä¸ªåŒ…å«åµŒå…¥å‘é‡å’Œä»¤ç‰Œä½¿ç”¨æƒ…å†µçš„ JSON å¯¹è±¡ï¼š

```json
{
  "object": "list",
  "data": [
    {
      "embedding": [-0.013131560757756233, 0.019828535616397858, ...],
      "index": 0
    },
    {
      "embedding": [-0.0069352793507277966, 0.020878976210951805, ...],
      "index": 1
    }
  ],
  "model": "voyage-3.5",
  "usage": {
    "total_tokens": 10
  }
}

```

æœ‰å…³ Voyage HTTP API çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[Voyage æ–‡æ¡£](https://docs.voyageai.com/reference/embeddings-api)ã€‚

### AWS Marketplace

Voyage åµŒå…¥å‘é‡åœ¨[AWS Marketplace](https://aws.amazon.com/marketplace/seller-profile?id=seller-snt4gb6fd7ljg)ä¸Šå¯ç”¨ã€‚åœ¨ AWS ä¸Šè®¿é—® Voyage çš„è¯´æ˜å¯åœ¨[æ­¤å¤„](https://docs.voyageai.com/docs/aws-marketplace-model-package?ref=anthropic)æ‰¾åˆ°ã€‚

## å¿«é€Ÿå…¥é—¨ç¤ºä¾‹

ç°åœ¨æˆ‘ä»¬çŸ¥é“å¦‚ä½•è·å–åµŒå…¥å‘é‡ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€çŸ­çš„ç¤ºä¾‹ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å…­ä¸ªæ–‡æ¡£çš„å°è¯­æ–™åº“è¦æ£€ç´¢

```python
documents = [
    "The Mediterranean diet emphasizes fish, olive oil, and vegetables, believed to reduce chronic diseases.",
    "Photosynthesis in plants converts light energy into glucose and produces essential oxygen.",
    "20th-century innovations, from radios to smartphones, centered on electronic advancements.",
    "Rivers provide water, irrigation, and habitat for aquatic species, vital for ecosystems.",
    "Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.",
    "Shakespeare's works, like 'Hamlet' and 'A Midsummer Night's Dream,' endure in literature."
]

```

æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ Voyage å°†æ¯ä¸ªæ–‡æ¡£è½¬æ¢ä¸ºåµŒå…¥å‘é‡

```python
import voyageai

vo = voyageai.Client()

# åµŒå…¥æ–‡æ¡£
doc_embds = vo.embed(
    documents, model="voyage-3.5", input_type="document"
).embeddings
```

åµŒå…¥å‘é‡å°†å…è®¸æˆ‘ä»¬åœ¨å‘é‡ç©ºé—´ä¸­è¿›è¡Œè¯­ä¹‰æœç´¢/æ£€ç´¢ã€‚ç»™å®šä¸€ä¸ªç¤ºä¾‹æŸ¥è¯¢ï¼Œ

```python
query = "When is Apple's conference call scheduled?"
```

æˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºåµŒå…¥å‘é‡ï¼Œå¹¶è¿›è¡Œæœ€è¿‘é‚»æœç´¢ï¼Œæ ¹æ®åµŒå…¥ç©ºé—´ä¸­çš„è·ç¦»æ‰¾åˆ°æœ€ç›¸å…³çš„æ–‡æ¡£ã€‚

```python
import numpy as np

# åµŒå…¥æŸ¥è¯¢
query_embd = vo.embed(
    [query], model="voyage-3.5", input_type="query"
).embeddings[0]

# è®¡ç®—ç›¸ä¼¼æ€§
# Voyage åµŒå…¥å‘é‡è¢«å½’ä¸€åŒ–ä¸ºé•¿åº¦ 1ï¼Œå› æ­¤ç‚¹ç§¯
# å’Œä½™å¼¦ç›¸ä¼¼æ€§æ˜¯ç›¸åŒçš„ã€‚
similarities = np.dot(doc_embds, query_embd)

retrieved_id = np.argmax(similarities)
print(documents[retrieved_id])
```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨ `input_type="document"` å’Œ `input_type="query"` æ¥åµŒå…¥æ–‡æ¡£å’ŒæŸ¥è¯¢ã€‚æ›´å¤šè§„èŒƒå¯ä»¥åœ¨[è¿™é‡Œ](/docs/zh-CN/build-with-claude/embeddings#voyage-python-package)æ‰¾åˆ°ã€‚

è¾“å‡ºå°†æ˜¯ç¬¬ 5 ä¸ªæ–‡æ¡£ï¼Œè¿™ç¡®å®æ˜¯ä¸æŸ¥è¯¢æœ€ç›¸å…³çš„ï¼š

```
Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.
```

å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾å…³äºå¦‚ä½•ä½¿ç”¨åµŒå…¥å‘é‡è¿›è¡Œ RAG çš„è¯¦ç»†æ•™ç¨‹é›†ï¼ŒåŒ…æ‹¬å‘é‡æ•°æ®åº“ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„[RAG æ•™ç¨‹](https://github.com/anthropics/anthropic-cookbook/blob/main/third_party/Pinecone/rag_using_pinecone.ipynb)ã€‚

## å¸¸è§é—®é¢˜è§£ç­”

  <section title="ä¸ºä»€ä¹ˆ Voyage åµŒå…¥å‘é‡å…·æœ‰å“è¶Šçš„è´¨é‡ï¼Ÿ">

    åµŒå…¥æ¨¡å‹ä¾èµ–å¼ºå¤§çš„ç¥ç»ç½‘ç»œæ¥æ•è·å’Œå‹ç¼©è¯­ä¹‰ä¸Šä¸‹æ–‡ï¼Œç±»ä¼¼äºç”Ÿæˆæ¨¡å‹ã€‚Voyage çš„ç»éªŒä¸°å¯Œçš„ AI ç ”ç©¶å›¢é˜Ÿä¼˜åŒ–åµŒå…¥è¿‡ç¨‹çš„æ¯ä¸ªç»„ä»¶ï¼ŒåŒ…æ‹¬ï¼š
    - æ¨¡å‹æ¶æ„
    - æ•°æ®æ”¶é›†
    - æŸå¤±å‡½æ•°
    - ä¼˜åŒ–å™¨é€‰æ‹©

    åœ¨ä»–ä»¬çš„[åšå®¢](https://blog.voyageai.com/)ä¸Šäº†è§£æ›´å¤šå…³äº Voyage æŠ€æœ¯æ–¹æ³•çš„ä¿¡æ¯ã€‚
  
</section>

  <section title="æœ‰å“ªäº›åµŒå…¥æ¨¡å‹å¯ç”¨ï¼Œæˆ‘åº”è¯¥ä½¿ç”¨å“ªä¸ªï¼Ÿ">

    å¯¹äºé€šç”¨åµŒå…¥ï¼Œæˆ‘ä»¬æ¨èï¼š
    - `voyage-3-large`ï¼šæœ€ä½³è´¨é‡
    - `voyage-3.5-lite`ï¼šæœ€ä½å»¶è¿Ÿå’Œæˆæœ¬
    - `voyage-3.5`ï¼šåœ¨å…·æœ‰ç«äº‰åŠ›çš„ä»·æ ¼ç‚¹ä¸Šå…·æœ‰å“è¶Šæ£€ç´¢è´¨é‡çš„å¹³è¡¡æ€§èƒ½
    
    å¯¹äºæ£€ç´¢ï¼Œä½¿ç”¨ `input_type` å‚æ•°æ¥æŒ‡å®šæ–‡æœ¬æ˜¯æŸ¥è¯¢è¿˜æ˜¯æ–‡æ¡£ç±»å‹ã€‚

    é¢†åŸŸç‰¹å®šæ¨¡å‹ï¼š

    - æ³•å¾‹ä»»åŠ¡ï¼š`voyage-law-2`
    - ä»£ç å’Œç¼–ç¨‹æ–‡æ¡£ï¼š`voyage-code-3`
    - é‡‘èç›¸å…³ä»»åŠ¡ï¼š`voyage-finance-2`
  
</section>

  <section title="æˆ‘åº”è¯¥ä½¿ç”¨å“ªä¸ªç›¸ä¼¼æ€§å‡½æ•°ï¼Ÿ">

    æ‚¨å¯ä»¥å°† Voyage åµŒå…¥å‘é‡ä¸ç‚¹ç§¯ç›¸ä¼¼æ€§ã€ä½™å¼¦ç›¸ä¼¼æ€§æˆ–æ¬§å‡ é‡Œå¾—è·ç¦»ä¸€èµ·ä½¿ç”¨ã€‚å…³äºåµŒå…¥ç›¸ä¼¼æ€§çš„è§£é‡Šå¯ä»¥åœ¨[è¿™é‡Œ](https://www.pinecone.io/learn/vector-similarity/)æ‰¾åˆ°ã€‚

    Voyage AI åµŒå…¥å‘é‡è¢«å½’ä¸€åŒ–ä¸ºé•¿åº¦ 1ï¼Œè¿™æ„å‘³ç€ï¼š

    - ä½™å¼¦ç›¸ä¼¼æ€§ç­‰åŒäºç‚¹ç§¯ç›¸ä¼¼æ€§ï¼Œè€Œåè€…å¯ä»¥æ›´å¿«åœ°è®¡ç®—ã€‚
    - ä½™å¼¦ç›¸ä¼¼æ€§å’Œæ¬§å‡ é‡Œå¾—è·ç¦»å°†äº§ç”Ÿç›¸åŒçš„æ’åã€‚
  
</section>

  <section title="å­—ç¬¦ã€å•è¯å’Œä»¤ç‰Œä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ">

    è¯·å‚è§æ­¤[é¡µé¢](https://docs.voyageai.com/docs/tokenization?ref=anthropic)ã€‚
  
</section>

  <section title="ä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨ input_type å‚æ•°ï¼Ÿ">

    å¯¹äºæ‰€æœ‰æ£€ç´¢ä»»åŠ¡å’Œç”¨ä¾‹ï¼ˆä¾‹å¦‚ RAGï¼‰ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ `input_type` å‚æ•°æ¥æŒ‡å®šè¾“å…¥æ–‡æœ¬æ˜¯æŸ¥è¯¢è¿˜æ˜¯æ–‡æ¡£ã€‚ä¸è¦çœç•¥ `input_type` æˆ–è®¾ç½® `input_type=None`ã€‚æŒ‡å®šè¾“å…¥æ–‡æœ¬æ˜¯æŸ¥è¯¢è¿˜æ˜¯æ–‡æ¡£å¯ä»¥ä¸ºæ£€ç´¢åˆ›å»ºæ›´å¥½çš„å¯†é›†å‘é‡è¡¨ç¤ºï¼Œè¿™å¯ä»¥å¯¼è‡´æ›´å¥½çš„æ£€ç´¢è´¨é‡ã€‚

    ä½¿ç”¨ `input_type` å‚æ•°æ—¶ï¼Œç‰¹æ®Šæç¤ºä¼šåœ¨åµŒå…¥ä¹‹å‰æ·»åŠ åˆ°è¾“å…¥æ–‡æœ¬å‰é¢ã€‚å…·ä½“æ¥è¯´ï¼š

    > ğŸ“˜ **ä¸ `input_type` ç›¸å…³çš„æç¤º**
    > 
    > - å¯¹äºæŸ¥è¯¢ï¼Œæç¤ºæ˜¯"Represent the query for retrieving supporting documents: "ã€‚
    > - å¯¹äºæ–‡æ¡£ï¼Œæç¤ºæ˜¯"Represent the document for retrieval: "ã€‚
    > - ç¤ºä¾‹
    >     - å½“ `input_type="query"` æ—¶ï¼Œåƒ"When is Apple's conference call scheduled?"è¿™æ ·çš„æŸ¥è¯¢å°†å˜æˆ"**Represent the query for retrieving supporting documents:** When is Apple's conference call scheduled?"
    >     - å½“ `input_type="document"` æ—¶ï¼Œåƒ"Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET."è¿™æ ·çš„æŸ¥è¯¢å°†å˜æˆ"**Represent the document for retrieval:** Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET."

    `voyage-large-2-instruct`ï¼Œé¡¾åæ€ä¹‰ï¼Œè¢«è®­ç»ƒä¸ºå¯¹æ·»åŠ åˆ°è¾“å…¥æ–‡æœ¬å‰é¢çš„é™„åŠ æŒ‡ä»¤åšå‡ºå“åº”ã€‚å¯¹äºåˆ†ç±»ã€èšç±»æˆ–å…¶ä»–[MTEB](https://huggingface.co/mteb)å­ä»»åŠ¡ï¼Œè¯·ä½¿ç”¨[è¿™é‡Œ](https://github.com/voyage-ai/voyage-large-2-instruct)çš„æŒ‡ä»¤ã€‚
  
</section>

  <section title="æœ‰å“ªäº›é‡åŒ–é€‰é¡¹å¯ç”¨ï¼Ÿ">

    åµŒå…¥ä¸­çš„é‡åŒ–å°†é«˜ç²¾åº¦å€¼ï¼ˆå¦‚ 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°ï¼‰è½¬æ¢ä¸ºè¾ƒä½ç²¾åº¦æ ¼å¼ï¼ˆå¦‚ 8 ä½æ•´æ•°æˆ– 1 ä½äºŒè¿›åˆ¶å€¼ï¼‰ï¼Œåˆ†åˆ«å°†å­˜å‚¨ã€å†…å­˜å’Œæˆæœ¬å‡å°‘ 4 å€å’Œ 32 å€ã€‚æ”¯æŒçš„ Voyage æ¨¡å‹é€šè¿‡ä½¿ç”¨ `output_dtype` å‚æ•°æŒ‡å®šè¾“å‡ºæ•°æ®ç±»å‹æ¥å¯ç”¨é‡åŒ–ï¼š

    - `float`ï¼šæ¯ä¸ªè¿”å›çš„åµŒå…¥å‘é‡æ˜¯ 32 ä½ï¼ˆ4 å­—èŠ‚ï¼‰å•ç²¾åº¦æµ®ç‚¹æ•°çš„åˆ—è¡¨ã€‚è¿™æ˜¯é»˜è®¤å€¼ï¼Œæä¾›æœ€é«˜ç²¾åº¦/æ£€ç´¢å‡†ç¡®æ€§ã€‚
    - `int8` å’Œ `uint8`ï¼šæ¯ä¸ªè¿”å›çš„åµŒå…¥å‘é‡æ˜¯ 8 ä½ï¼ˆ1 å­—èŠ‚ï¼‰æ•´æ•°çš„åˆ—è¡¨ï¼Œåˆ†åˆ«èŒƒå›´ä» -128 åˆ° 127 å’Œ 0 åˆ° 255ã€‚
    - `binary` å’Œ `ubinary`ï¼šæ¯ä¸ªè¿”å›çš„åµŒå…¥å‘é‡æ˜¯ 8 ä½æ•´æ•°çš„åˆ—è¡¨ï¼Œè¡¨ç¤ºä½æ‰“åŒ…çš„é‡åŒ–å•ä½åµŒå…¥å€¼ï¼š`binary` ä½¿ç”¨ `int8`ï¼Œ`ubinary` ä½¿ç”¨ `uint8`ã€‚è¿”å›çš„æ•´æ•°åˆ—è¡¨çš„é•¿åº¦æ˜¯åµŒå…¥å®é™…ç»´åº¦çš„ 1/8ã€‚äºŒè¿›åˆ¶ç±»å‹ä½¿ç”¨åç§»äºŒè¿›åˆ¶æ–¹æ³•ï¼Œæ‚¨å¯ä»¥åœ¨ä¸‹é¢çš„å¸¸è§é—®é¢˜è§£ç­”ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚

    > **äºŒè¿›åˆ¶é‡åŒ–ç¤ºä¾‹**
    > 
    > è€ƒè™‘ä»¥ä¸‹å…«ä¸ªåµŒå…¥å€¼ï¼š-0.03955078ã€0.006214142ã€-0.07446289ã€-0.039001465ã€0.0046463013ã€0.00030612946ã€-0.08496094 å’Œ 0.03994751ã€‚é€šè¿‡äºŒè¿›åˆ¶é‡åŒ–ï¼Œå°äºæˆ–ç­‰äºé›¶çš„å€¼å°†è¢«é‡åŒ–ä¸ºäºŒè¿›åˆ¶é›¶ï¼Œæ­£å€¼è¢«é‡åŒ–ä¸ºäºŒè¿›åˆ¶ä¸€ï¼Œäº§ç”Ÿä»¥ä¸‹äºŒè¿›åˆ¶åºåˆ—ï¼š0ã€1ã€0ã€0ã€1ã€1ã€0ã€1ã€‚ç„¶åå°†è¿™å…«ä½æ‰“åŒ…æˆä¸€ä¸ª 8 ä½æ•´æ•°ï¼Œ01001101ï¼ˆæœ€å·¦è¾¹çš„ä½ä½œä¸ºæœ€é«˜æœ‰æ•ˆä½ï¼‰ã€‚
    >   - `ubinary`ï¼šäºŒè¿›åˆ¶åºåˆ—ç›´æ¥è½¬æ¢å¹¶è¡¨ç¤ºä¸ºæ— ç¬¦å·æ•´æ•°ï¼ˆ`uint8`ï¼‰77ã€‚
    >   - `binary`ï¼šäºŒè¿›åˆ¶åºåˆ—è¡¨ç¤ºä¸ºæœ‰ç¬¦å·æ•´æ•°ï¼ˆ`int8`ï¼‰-51ï¼Œä½¿ç”¨åç§»äºŒè¿›åˆ¶æ–¹æ³•è®¡ç®—ï¼ˆ77 - 128 = -51ï¼‰ã€‚
  
</section>

  <section title="å¦‚ä½•æˆªæ–­ Matryoshka åµŒå…¥å‘é‡ï¼Ÿ">

    Matryoshka å­¦ä¹ åœ¨å•ä¸ªå‘é‡å†…åˆ›å»ºå…·æœ‰ä»ç²—åˆ°ç»†è¡¨ç¤ºçš„åµŒå…¥å‘é‡ã€‚æ”¯æŒå¤šä¸ªè¾“å‡ºç»´åº¦çš„ Voyage æ¨¡å‹ï¼ˆå¦‚ `voyage-code-3`ï¼‰ç”Ÿæˆè¿™æ ·çš„ Matryoshka åµŒå…¥å‘é‡ã€‚æ‚¨å¯ä»¥é€šè¿‡ä¿ç•™ç»´åº¦çš„å‰å¯¼å­é›†æ¥æˆªæ–­è¿™äº›å‘é‡ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ Python ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°† 1024 ç»´å‘é‡æˆªæ–­ä¸º 256 ç»´ï¼š

    ```python
    import voyageai
    import numpy as np

    def embd_normalize(v: np.ndarray) -> np.ndarray:
        """
        é€šè¿‡å°†æ¯è¡Œé™¤ä»¥å…¶æ¬§å‡ é‡Œå¾—èŒƒæ•°ï¼Œå°† 2D numpy æ•°ç»„çš„è¡Œå½’ä¸€åŒ–ä¸ºå•ä½å‘é‡ã€‚
        å¦‚æœä»»ä½•è¡Œçš„èŒƒæ•°ä¸ºé›¶ï¼Œåˆ™å¼•å‘ ValueError ä»¥é˜²æ­¢é™¤é›¶ã€‚
        """
        row_norms = np.linalg.norm(v, axis=1, keepdims=True)
        if np.any(row_norms == 0):
            raise ValueError("Cannot normalize rows with a norm of zero.")
        return v / row_norms


    vo = voyageai.Client()

    # ç”Ÿæˆ voyage-code-3 å‘é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ 1024 ç»´æµ®ç‚¹æ•°
    embd = vo.embed(['Sample text 1', 'Sample text 2'], model='voyage-code-3').embeddings

    # è®¾ç½®è¾ƒçŸ­ç»´åº¦
    short_dim = 256

    # å°†å‘é‡è°ƒæ•´å¤§å°å¹¶å½’ä¸€åŒ–ä¸ºè¾ƒçŸ­ç»´åº¦
    resized_embd = embd_normalize(np.array(embd)[:, :short_dim]).tolist()
    ```
  
</section>

## å®šä»·

è®¿é—® Voyage çš„[å®šä»·é¡µé¢](https://docs.voyageai.com/docs/pricing?ref=anthropic)è·å–æœ€æ–°çš„å®šä»·è¯¦æƒ…ã€‚
# Лучшие практики составления промптов

Техники инженерии промптов для моделей Claude 4.x с рекомендациями для Sonnet 4.5, Haiku 4.5 и Opus 4.5

---

Это руководство содержит конкретные техники инженерии промптов для моделей Claude 4.x с конкретными рекомендациями для Sonnet 4.5, Haiku 4.5 и Opus 4.5. Эти модели обучены более точному следованию инструкциям, чем предыдущие поколения моделей Claude.
<Tip>
  Для обзора новых возможностей Claude 4.5 см. [Что нового в Claude 4.5](/docs/ru/about-claude/models/whats-new-claude-4-5). Для рекомендаций по миграции с предыдущих моделей см. [Миграция на Claude 4.5](/docs/ru/about-claude/models/migrating-to-claude-4).
</Tip>

## Общие принципы

### Будьте явными в своих инструкциях

Модели Claude 4.x хорошо реагируют на четкие, явные инструкции. Конкретизация желаемого результата может помочь улучшить результаты. Клиенты, которые хотят получить поведение "сверх ожиданий" от предыдущих моделей Claude, могут нуждаться в более явном запросе этого поведения у новых моделей.

<section title="Пример: создание аналитической панели">

**Менее эффективно:**
```text
Создайте аналитическую панель
```

**Более эффективно:**
```text
Создайте аналитическую панель. Включите как можно больше релевантных функций и взаимодействий. Выходите за рамки основ, чтобы создать полнофункциональную реализацию.
```

</section>

### Добавляйте контекст для улучшения производительности

Предоставление контекста или мотивации за вашими инструкциями, например объяснение Claude, почему такое поведение важно, может помочь моделям Claude 4.x лучше понять ваши цели и предоставить более целевые ответы.

<section title="Пример: предпочтения форматирования">

**Менее эффективно:**
```text
НИКОГДА не используйте многоточие
```

**Более эффективно:**
```text
Ваш ответ будет прочитан вслух синтезатором речи, поэтому никогда не используйте многоточие, так как синтезатор речи не будет знать, как его произносить.
```

</section>

Claude достаточно умен, чтобы обобщить из объяснения.

### Будьте внимательны к примерам и деталям

Модели Claude 4.x уделяют пристальное внимание деталям и примерам как части своих возможностей точного следования инструкциям. Убедитесь, что ваши примеры соответствуют поведению, которое вы хотите поощрять, и минимизируют поведение, которое вы хотите избежать.

### Долгосрочное рассуждение и отслеживание состояния

Модели Claude 4.5 превосходны в задачах долгосрочного рассуждения с исключительными возможностями отслеживания состояния. Они сохраняют ориентацию в расширенных сеансах, сосредоточиваясь на постепенном прогрессе — делая устойчивые успехи в нескольких вещах одновременно, а не пытаясь сделать все сразу. Эта возможность особенно проявляется в нескольких окнах контекста или итерациях задач, где Claude может работать над сложной задачей, сохранять состояние и продолжать с новым окном контекста.

#### Осведомленность о контексте и многооконные рабочие процессы

Модели Claude 4.5 имеют [осведомленность о контексте](/docs/ru/build-with-claude/context-windows#context-awareness-in-claude-sonnet-4-5), позволяя модели отслеживать оставшееся окно контекста (т.е. "бюджет токенов") на протяжении всего разговора. Это позволяет Claude выполнять задачи и управлять контекстом более эффективно, понимая, сколько места у него есть для работы.

**Управление ограничениями контекста:**

Если вы используете Claude в агентском каркасе, который компактирует контекст или позволяет сохранять контекст во внешние файлы (как в Claude Code), мы предлагаем добавить эту информацию в ваш промпт, чтобы Claude мог действовать соответственно. В противном случае Claude может иногда естественным образом попытаться завершить работу по мере приближения к ограничению контекста. Ниже приведен пример промпта:

```text Пример промпта
Ваше окно контекста будет автоматически компактировано по мере приближения к его ограничению, позволяя вам продолжать работу бесконечно с того места, где вы остановились. Поэтому не прекращайте задачи рано из-за проблем с бюджетом токенов. По мере приближения к ограничению вашего бюджета токенов сохраняйте свой текущий прогресс и состояние в памяти перед обновлением окна контекста. Всегда будьте максимально настойчивы и автономны и полностью выполняйте задачи, даже если приближается конец вашего бюджета. Никогда не прекращайте задачу рано независимо от оставшегося контекста.
```

[Инструмент памяти](/docs/ru/agents-and-tools/tool-use/memory-tool) естественным образом сочетается с осведомленностью о контексте для беспрепятственных переходов контекста.

#### Многооконные рабочие процессы контекста

Для задач, охватывающих несколько окон контекста:

1. **Используйте другой промпт для самого первого окна контекста**: Используйте первое окно контекста для установки фреймворка (написание тестов, создание скриптов установки), затем используйте будущие окна контекста для итерации по списку дел.

2. **Попросите модель написать тесты в структурированном формате**: Попросите Claude создать тесты перед началом работы и отслеживать их в структурированном формате (например, `tests.json`). Это приводит к лучшей долгосрочной способности к итерации. Напомните Claude о важности тестов: "Неприемлемо удалять или редактировать тесты, так как это может привести к отсутствию или ошибочной функциональности."

3. **Установите инструменты для улучшения качества жизни**: Поощряйте Claude создавать скрипты установки (например, `init.sh`) для корректного запуска серверов, запуска наборов тестов и линтеров. Это предотвращает повторную работу при продолжении с новым окном контекста.

4. **Начало с нуля или компактирование**: Когда окно контекста очищается, рассмотрите возможность начать с совершенно новым окном контекста вместо использования компактирования. Модели Claude 4.5 чрезвычайно эффективны в обнаружении состояния из локальной файловой системы. В некоторых случаях вы можете захотеть воспользоваться этим вместо компактирования. Будьте предписывающими о том, как это должно начаться:
   - "Вызовите pwd; вы можете только читать и писать файлы в этом каталоге."
   - "Просмотрите progress.txt, tests.json и логи git."
   - "Вручную пройдите через фундаментальный интеграционный тест перед переходом к реализации новых функций."

5. **Предоставьте инструменты проверки**: По мере увеличения длины автономных задач Claude нужно проверять правильность без постоянной обратной связи от человека. Инструменты, такие как сервер Playwright MCP или возможности компьютерного использования для тестирования пользовательских интерфейсов, полезны.

6. **Поощряйте полное использование контекста**: Попросите Claude эффективно завершить компоненты перед переходом:

```text Пример промпта
Это очень длинная задача, поэтому может быть полезно четко спланировать вашу работу. Рекомендуется потратить весь выходной контекст на задачу - просто убедитесь, что вы не исчерпаете контекст со значительной незафиксированной работой. Продолжайте работать систематически, пока не завершите эту задачу.
```

#### Лучшие практики управления состоянием

- **Используйте структурированные форматы для данных состояния**: При отслеживании структурированной информации (например, результатов тестов или статуса задачи) используйте JSON или другие структурированные форматы, чтобы помочь Claude понять требования схемы
- **Используйте неструктурированный текст для заметок о прогрессе**: Свободные заметки о прогрессе хорошо работают для отслеживания общего прогресса и контекста
- **Используйте git для отслеживания состояния**: Git предоставляет журнал того, что было сделано, и контрольные точки, которые можно восстановить. Модели Claude 4.5 особенно хорошо работают при использовании git для отслеживания состояния в нескольких сеансах.
- **Подчеркивайте постепенный прогресс**: Явно попросите Claude отслеживать свой прогресс и сосредоточиться на постепенной работе

<section title="Пример: отслеживание состояния">

```json
// Файл структурированного состояния (tests.json)
{
  "tests": [
    {"id": 1, "name": "authentication_flow", "status": "passing"},
    {"id": 2, "name": "user_management", "status": "failing"},
    {"id": 3, "name": "api_endpoints", "status": "not_started"}
  ],
  "total": 200,
  "passing": 150,
  "failing": 25,
  "not_started": 25
}
```

```text
// Заметки о прогрессе (progress.txt)
Прогресс сеанса 3:
- Исправлена валидация токена аутентификации
- Обновлена модель пользователя для обработки граничных случаев
- Далее: исследовать сбои теста user_management (тест #2)
- Примечание: не удаляйте тесты, так как это может привести к отсутствию функциональности
```

</section>

### Стиль общения

Модели Claude 4.5 имеют более лаконичный и естественный стиль общения по сравнению с предыдущими моделями:

- **Более прямой и обоснованный**: Предоставляет отчеты о прогрессе, основанные на фактах, а не самовосхваляющиеся обновления
- **Более разговорный**: Немного более беглый и разговорный, менее машинообразный
- **Менее многословный**: Может пропускать подробные резюме для эффективности, если не указано иное

Этот стиль общения точно отражает то, что было достигнуто, без ненужного уточнения.

## Рекомендации для конкретных ситуаций

### Сбалансируйте многословность

Модели Claude 4.5 склоняются к эффективности и могут пропускать словесные резюме после вызовов инструментов, переходя непосредственно к следующему действию. Хотя это создает упорядоченный рабочий процесс, вы можете предпочесть большую видимость его процесса рассуждения.

Если вы хотите, чтобы Claude предоставлял обновления по мере работы:

```text Пример промпта
После завершения задачи, которая включает использование инструментов, предоставьте краткое резюме проделанной работы.
```

### Паттерны использования инструментов

Модели Claude 4.5 обучены точному следованию инструкциям и выигрывают от явного направления на использование конкретных инструментов. Если вы скажете "можете ли вы предложить некоторые изменения", иногда это будет только предлагать предложения, а не реализовывать их — даже если внесение изменений может быть тем, что вы имели в виду.

Чтобы Claude предпринял действие, будьте более явными:

<section title="Пример: явные инструкции">

**Менее эффективно (Claude только предложит):**
```text
Можете ли вы предложить некоторые изменения для улучшения этой функции?
```

**Более эффективно (Claude внесет изменения):**
```text
Измените эту функцию для улучшения ее производительности.
```

Или:
```text
Внесите эти правки в поток аутентификации.
```

</section>

Чтобы сделать Claude более активным в принятии мер по умолчанию, вы можете добавить это в ваш системный промпт:

```text Пример промпта для активного действия
<default_to_action>
По умолчанию реализуйте изменения, а не только предлагайте их. Если намерение пользователя неясно, выведите наиболее полезное вероятное действие и продолжайте, используя инструменты для обнаружения любых недостающих деталей вместо угадывания. Попытайтесь вывести намерение пользователя о том, предназначен ли вызов инструмента (например, редактирование или чтение файла) или нет, и действуйте соответственно.
</default_to_action>
```

С другой стороны, если вы хотите, чтобы модель была более осторожной по умолчанию, менее склонна к прямому переходу к реализациям и предпринимала действия только при запросе, вы можете направить это поведение с помощью промпта, подобного приведенному ниже:

```text Пример промпта для консервативного действия
<do_not_act_before_instructions>
Не переходите к реализации или изменению файлов, если не указано явно внести изменения. Когда намерение пользователя неоднозначно, по умолчанию предоставляйте информацию, проводите исследования и предоставляйте рекомендации, а не предпринимайте действия. Только переходите к редактированиям, модификациям или реализациям, когда пользователь явно их запрашивает.
</do_not_act_before_instructions>
```

### Использование инструментов и срабатывание

Claude Opus 4.5 более чувствителен к системному промпту, чем предыдущие модели. Если ваши промпты были разработаны для уменьшения недостаточного срабатывания инструментов или навыков, Claude Opus 4.5 может теперь чрезмерно срабатывать. Решение состоит в том, чтобы смягчить любой агрессивный язык. Где вы могли бы сказать "КРИТИЧНО: Вы ДОЛЖНЫ использовать этот инструмент, когда...", вы можете использовать более нормальный промпт, например "Используйте этот инструмент, когда...".

### Контролируйте формат ответов

Есть несколько способов, которые мы обнаружили, чтобы быть особенно эффективными в управлении форматированием выходных данных в моделях Claude 4.x:

1. **Скажите Claude, что делать, вместо того, чтобы говорить, что не делать**

   - Вместо: "Не используйте markdown в вашем ответе"
   - Попробуйте: "Ваш ответ должен состоять из плавно текущих абзацев прозы."

2. **Используйте индикаторы формата XML**

   - Попробуйте: "Напишите разделы прозы вашего ответа в тегах \<smoothly_flowing_prose_paragraphs\>."

3. **Сопоставьте стиль вашего промпта с желаемым стилем выходных данных**

   Стиль форматирования, используемый в вашем промпте, может повлиять на стиль ответа Claude. Если вы все еще испытываете проблемы с управляемостью форматирования выходных данных, мы рекомендуем, насколько это возможно, сопоставить стиль вашего промпта с желаемым стилем выходных данных. Например, удаление markdown из вашего промпта может уменьшить объем markdown в выходных данных.

4. **Используйте подробные промпты для конкретных предпочтений форматирования**

   Для большего контроля над использованием markdown и форматирования предоставьте явное руководство:

```text Пример промпта для минимизации markdown
<avoid_excessive_markdown_and_bullet_points>
При написании отчетов, документов, технических объяснений, анализов или любого длинного контента пишите четкой, текущей прозой, используя полные абзацы и предложения. Используйте стандартные разрывы абзацев для организации и зарезервируйте markdown в основном для `встроенного кода`, блоков кода (```...```), и простых заголовков (###, и ###). Избегайте использования **жирного** и *курсива*.

НЕ используйте упорядоченные списки (1. ...) или неупорядоченные списки (*), если только: a) вы представляете действительно дискретные элементы, где формат списка является лучшим вариантом, или b) пользователь явно запрашивает список или рейтинг

Вместо перечисления элементов с пулями или цифрами, включите их естественным образом в предложения. Это руководство особенно применимо к техническому письму. Использование прозы вместо чрезмерного форматирования улучшит удовлетворение пользователя. НИКОГДА не выводите серию чрезмерно коротких пулевых точек.

Ваша цель — читаемый, текущий текст, который естественным образом направляет читателя через идеи, а не фрагментирует информацию на изолированные точки.
</avoid_excessive_markdown_and_bullet_points>
```

### Исследование и сбор информации

Модели Claude 4.5 демонстрируют исключительные возможности агентского поиска и могут эффективно находить и синтезировать информацию из нескольких источников. Для оптимальных результатов исследования:

1. **Предоставьте четкие критерии успеха**: Определите, что представляет собой успешный ответ на ваш исследовательский вопрос

2. **Поощряйте проверку источников**: Попросите Claude проверить информацию по нескольким источникам

3. **Для сложных исследовательских задач используйте структурированный подход**:

```text Пример промпта для сложного исследования
Ищите эту информацию структурированным способом. По мере сбора данных разработайте несколько конкурирующих гипотез. Отслеживайте уровни вашей уверенности в заметках о прогрессе, чтобы улучшить калибровку. Регулярно критикуйте свой подход и план. Обновляйте файл дерева гипотез или заметок исследования, чтобы сохранить информацию и обеспечить прозрачность. Разбейте эту сложную исследовательскую задачу систематически.
```

Этот структурированный подход позволяет Claude находить и синтезировать практически любую информацию и итеративно критиковать свои выводы, независимо от размера корпуса.

### Оркестровка подагентов

Модели Claude 4.5 демонстрируют значительно улучшенные встроенные возможности оркестровки подагентов. Эти модели могут распознавать, когда задачи выигрывают от делегирования работы специализированным подагентам, и делают это проактивно без требования явной инструкции.

Чтобы воспользоваться этим поведением:

1. **Убедитесь, что инструменты подагентов хорошо определены**: Имейте доступные инструменты подагентов и описанные в определениях инструментов
2. **Позвольте Claude оркестровать естественно**: Claude будет делегировать соответственно без явной инструкции
3. **Отрегулируйте консервативность при необходимости**:

```text Пример промпта для консервативного использования подагентов
Делегируйте подагентам только когда задача явно выигрывает от отдельного агента с новым окном контекста.
```

### Самопознание модели

Если вы хотите, чтобы Claude правильно идентифицировал себя в вашем приложении или использовал конкретные строки API:

```text Пример промпта для идентификации модели
Помощник — это Claude, созданный Anthropic. Текущая модель — Claude Sonnet 4.5.
```

Для приложений на основе LLM, которым нужно указать строки модели:

```text Пример промпта для строки модели
Когда требуется LLM, пожалуйста, по умолчанию используйте Claude Sonnet 4.5, если пользователь не запрашивает иное. Точная строка модели для Claude Sonnet 4.5 — claude-sonnet-4-5-20250929.
```

### Чувствительность мышления

Когда расширенное мышление отключено, Claude Opus 4.5 особенно чувствителен к слову "think" и его вариантам. Мы рекомендуем заменить "think" альтернативными словами, которые передают аналогичное значение, такими как "consider", "believe" и "evaluate".

### Используйте возможности мышления и чередующегося мышления

Модели Claude 4.x предлагают возможности мышления, которые могут быть особенно полезны для задач, включающих размышление после использования инструментов или сложное многошаговое рассуждение. Вы можете направить его начальное или чередующееся мышление для лучших результатов.

```text Пример промпта
После получения результатов инструмента тщательно отразите их качество и определите оптимальные следующие шаги перед продолжением. Используйте свое мышление для планирования и итерации на основе этой новой информации, а затем предпримите лучшее следующее действие.
```

<Info>
  Для получения дополнительной информации о возможностях мышления см. [Расширенное мышление](/docs/ru/build-with-claude/extended-thinking).
</Info>

### Создание документов

Модели Claude 4.5 превосходны в создании презентаций, анимаций и визуальных документов. Эти модели соответствуют или превосходят Claude Opus 4.1 в этой области с впечатляющим творческим мастерством и более сильным следованием инструкциям. Модели производят отполированный, пригодный для использования результат с первой попытки в большинстве случаев.

Для лучших результатов при создании документов:

```text Пример промпта
Создайте профессиональную презентацию на [тему]. Включите продуманные элементы дизайна, визуальную иерархию и привлекательные анимации, где это уместно.
```

### Улучшенные возможности зрения

Claude Opus 4.5 имеет улучшенные возможности зрения по сравнению с предыдущими моделями Claude. Он лучше работает с задачами обработки изображений и извлечения данных, особенно когда в контексте присутствуют несколько изображений. Эти улучшения распространяются на компьютерное использование, где модель может более надежно интерпретировать скриншоты и элементы пользовательского интерфейса. Вы также можете использовать Claude Opus 4.5 для анализа видео, разбив их на кадры.

Одна техника, которую мы обнаружили эффективной для дальнейшего повышения производительности, — это дать Claude Opus 4.5 инструмент обрезки или [навык](/docs/ru/agents-and-tools/agent-skills/overview). Мы видели последовательное улучшение при оценке изображений, когда Claude может "увеличить" релевантные области изображения. Мы подготовили кулинарную книгу для инструмента обрезки [здесь](https://github.com/anthropics/claude-cookbooks/blob/main/multimodal/crop_tool.ipynb).

### Оптимизируйте параллельный вызов инструментов

Модели Claude 4.x превосходны в параллельном выполнении инструментов, причем Sonnet 4.5 особенно агрессивен в запуске нескольких операций одновременно. Модели Claude 4.x будут:

- Запускать несколько спекулятивных поисков во время исследования
- Читать несколько файлов одновременно для более быстрого построения контекста
- Выполнять команды bash параллельно (что может даже создать узкое место производительности системы)

Это поведение легко управляется. Хотя модель имеет высокий процент успеха при параллельном вызове инструментов без подсказки, вы можете повысить это до ~100% или отрегулировать уровень агрессии:

```text Пример промпта для максимальной параллельной эффективности
<use_parallel_tool_calls>
Если вы намереваетесь вызвать несколько инструментов и между вызовами инструментов нет зависимостей, сделайте все независимые вызовы инструментов параллельно. Приоритизируйте одновременный вызов инструментов, когда действия могут быть выполнены параллельно, а не последовательно. Например, при чтении 3 файлов запустите 3 вызова инструментов параллельно, чтобы прочитать все 3 файла в контекст одновременно. Максимизируйте использование параллельных вызовов инструментов, где это возможно, для увеличения скорости и эффективности. Однако если некоторые вызовы инструментов зависят от предыдущих вызовов для информирования зависимых значений, таких как параметры, НЕ вызывайте эти инструменты параллельно и вместо этого вызывайте их последовательно. Никогда не используйте заполнители и не угадывайте недостающие параметры в вызовах инструментов.
</use_parallel_tool_calls>
```

```text Пример промпта для уменьшения параллельного выполнения
Выполняйте операции последовательно с короткими паузами между каждым шагом для обеспечения стабильности.
```

### Уменьшите создание файлов в агентском кодировании

Модели Claude 4.x иногда могут создавать новые файлы для целей тестирования и итерации, особенно при работе с кодом. Этот подход позволяет Claude использовать файлы, особенно скрипты python, как "временный блокнот" перед сохранением окончательного результата. Использование временных файлов может улучшить результаты, особенно для случаев использования агентского кодирования.

Если вы предпочитаете минимизировать создание новых файлов, вы можете указать Claude очищать после себя:

```text Пример промпта
Если вы создаете какие-либо временные новые файлы, скрипты или вспомогательные файлы для итерации, очистите эти файлы, удалив их в конце задачи.
```

### Чрезмерная усердность и создание файлов

Claude Opus 4.5 имеет тенденцию к чрезмерному проектированию путем создания дополнительных файлов, добавления ненужных абстракций или создания гибкости, которая не была запрошена. Если вы видите это нежелательное поведение, добавьте явный промпт, чтобы сохранить решения минимальными.

Например:

```text Пример промпта для минимизации чрезмерного проектирования
Избегайте чрезмерного проектирования. Вносите только изменения, которые явно запрошены или явно необходимы. Сохраняйте решения простыми и сосредоточенными.

Не добавляйте функции, не рефакторьте код и не делайте "улучшения" сверх того, что было запрошено. Исправление ошибки не требует очистки окружающего кода. Простая функция не требует дополнительной конфигурируемости.

Не добавляйте обработку ошибок, резервные варианты или валидацию для сценариев, которые не могут произойти. Доверяйте гарантиям внутреннего кода и фреймворка. Валидируйте только на границах системы (пользовательский ввод, внешние API). Не используйте прокладки обратной совместимости, когда вы можете просто изменить код.

Не создавайте помощников, утилит или абстракций для одноразовых операций. Не проектируйте для гипотетических будущих требований. Правильное количество сложности — это минимум, необходимый для текущей задачи. Переиспользуйте существующие абстракции, где это возможно, и следуйте принципу DRY.
```

### Дизайн фронтенда

Модели Claude 4.x, особенно Opus 4.5, превосходны в создании сложных, реальных веб-приложений с сильным дизайном фронтенда. Однако без руководства модели могут по умолчанию использовать общие паттерны, которые создают то, что пользователи называют эстетикой "AI slop". Чтобы создать отличительные, творческие фронтенды, которые удивляют и восхищают:

<Tip>
Для подробного руководства по улучшению дизайна фронтенда см. нашу статью в блоге об [улучшении дизайна фронтенда через навыки](https://www.claude.com/blog/improving-frontend-design-through-skills).
</Tip>

Вот фрагмент системного промпта, который вы можете использовать для поощрения лучшего дизайна фронтенда:

```text Пример промпта для эстетики фронтенда
<frontend_aesthetics>
Вы склоняетесь к общим, "распределенным" результатам. В дизайне фронтенда это создает то, что пользователи называют эстетикой "AI slop". Избегайте этого: создавайте творческие, отличительные фронтенды, которые удивляют и восхищают.

Сосредоточьтесь на:
- Типография: Выбирайте шрифты, которые красивы, уникальны и интересны. Избегайте общих шрифтов, таких как Arial и Inter; вместо этого выбирайте отличительные варианты, которые повышают эстетику фронтенда.
- Цвет и тема: Придерживайтесь согласованной эстетики. Используйте переменные CSS для согласованности. Доминирующие цвета с острыми акцентами превосходят робкие, равномерно распределенные палитры. Черпайте вдохновение из тем IDE и культурной эстетики.
- Движение: Используйте анимации для эффектов и микровзаимодействий. Приоритизируйте решения только на CSS для HTML. Используйте библиотеку Motion для React, когда она доступна. Сосредоточьтесь на высокоэффективных моментах: одна хорошо организованная загрузка страницы с разделенными раскрытиями (animation-delay) создает больше восхищения, чем разбросанные микровзаимодействия.
- Фоны: Создавайте атмосферу и глубину, а не по умолчанию используйте сплошные цвета. Слоистые градиенты CSS, используйте геометрические паттерны или добавляйте контекстные эффекты, которые соответствуют общей эстетике.

Избегайте общей эстетики, созданной AI:
- Переиспользованные семейства шрифтов (Inter, Roboto, Arial, системные шрифты)
- Клишированные цветовые схемы (особенно фиолетовые градиенты на белых фонах)
- Предсказуемые макеты и паттерны компонентов
- Шаблонный дизайн, которому не хватает контекстного характера

Интерпретируйте творчески и делайте неожиданные выборы, которые кажутся действительно разработанными для контекста. Варьируйте между светлыми и темными темами, разными шрифтами, разными эстетиками. Вы все еще склоняетесь к общим выборам (например, Space Grotesk) в разных поколениях. Избегайте этого: критически важно, чтобы вы думали нестандартно!
</frontend_aesthetics>
```

Вы также можете обратиться к полному навыку [здесь](https://github.com/anthropics/claude-code/blob/main/plugins/frontend-design/skills/frontend-design/SKILL.md).

### Избегайте сосредоточения на прохождении тестов и жесткого кодирования

Модели Claude 4.x иногда могут слишком сосредоточиться на прохождении тестов в ущерб более общим решениям или могут использовать обходные пути, такие как вспомогательные скрипты для сложного рефакторинга, вместо использования стандартных инструментов напрямую. Чтобы предотвратить это поведение и обеспечить надежные, обобщаемые решения:

```text Пример промпта
Пожалуйста, напишите высококачественное, универсальное решение, используя доступные стандартные инструменты. Не создавайте вспомогательные скрипты или обходные пути для более эффективного выполнения задачи. Реализуйте решение, которое работает правильно для всех допустимых входных данных, а не только для тестовых случаев. Не жестко кодируйте значения и не создавайте решения, которые работают только для конкретных тестовых входных данных. Вместо этого реализуйте фактическую логику, которая решает проблему в целом.

Сосредоточьтесь на понимании требований проблемы и реализации правильного алгоритма. Тесты предназначены для проверки правильности, а не для определения решения. Предоставьте принципиальную реализацию, которая следует лучшим практикам и принципам проектирования программного обеспечения.

Если задача неразумна или невыполнима, или если какие-либо из тестов неправильны, пожалуйста, сообщите мне об этом, а не работайте вокруг них. Решение должно быть надежным, поддерживаемым и расширяемым.
```

### Поощрение исследования кода

Claude Opus 4.5 высоко способен, но может быть чрезмерно консервативен при исследовании кода. Если вы заметили, что модель предлагает решения без просмотра кода или делает предположения о коде, который она не читала, лучшее решение — добавить явные инструкции в промпт. Claude Opus 4.5 — наша наиболее управляемая модель на сегодняшний день и надежно реагирует на прямое руководство.

Например:

```text Пример промпта для исследования кода
ВСЕГДА читайте и понимайте релевантные файлы перед предложением редактирования кода. Не спекулируйте о коде, который вы не проверили. Если пользователь ссылается на конкретный файл/путь, вы ДОЛЖНЫ открыть и проверить его перед объяснением или предложением исправлений. Будьте строги и настойчивы в поиске кода для ключевых фактов. Тщательно просмотрите стиль, соглашения и абстракции кодовой базы перед реализацией новых функций или абстракций.
```

### Минимизация галлюцинаций в агентском кодировании

Модели Claude 4.x менее подвержены галлюцинациям и дают более точные, обоснованные, интеллектуальные ответы на основе кода. Чтобы поощрить это поведение еще больше и минимизировать галлюцинации:

```text Пример промпта
<investigate_before_answering>
Никогда не спекулируйте о коде, который вы не открыли. Если пользователь ссылается на конкретный файл, вы ДОЛЖНЫ прочитать файл перед ответом. Убедитесь, что вы исследуете и читаете релевантные файлы ПЕРЕД ответом на вопросы о кодовой базе. Никогда не делайте никаких утверждений о коде перед исследованием, если вы не уверены в правильном ответе - давайте обоснованные и свободные от галлюцинаций ответы.
</investigate_before_answering>
```

## Рекомендации по миграции

При миграции на модели Claude 4.5:

1. **Будьте конкретны в отношении желаемого поведения**: Рассмотрите возможность описания ровно того, что вы хотели бы видеть в выходных данных.

2. **Оформляйте ваши инструкции с модификаторами**: Добавление модификаторов, которые поощряют Claude повысить качество и детализацию своего результата, может помочь лучше сформировать производительность Claude. Например, вместо "Создайте аналитическую панель", используйте "Создайте аналитическую панель. Включите как можно больше релевантных функций и взаимодействий. Выходите за рамки основ, чтобы создать полнофункциональную реализацию."

3. **Явно запрашивайте конкретные функции**: Анимации и интерактивные элементы должны запрашиваться явно при необходимости.
# 使用 XML 标签来结构化您的提示词

学习如何使用 XML 标签来组织和结构化您的提示词，以获得更高质量的输出。

---

<Note>
While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

当您的提示词涉及多个组件（如上下文、指令和示例）时，XML 标签可以改变游戏规则。它们帮助 Claude 更准确地解析您的提示词，从而产生更高质量的输出。

<Tip>**XML 提示**：使用 `<instructions>`、`<example>` 和 `<formatting>` 等标签来清楚地分离提示词的不同部分。这可以防止 Claude 将指令与示例或上下文混淆。</Tip>

## 为什么使用 XML 标签？

- **清晰性：** 清楚地分离提示词的不同部分，确保您的提示词结构良好。
- **准确性：** 减少由 Claude 误解提示词部分引起的错误。
- **灵活性：** 轻松查找、添加、删除或修改提示词的部分，而无需重写所有内容。
- **可解析性：** 让 Claude 在其输出中使用 XML 标签，可以更轻松地通过后处理提取其响应的特定部分。

<Note>Claude 没有针对特定的规范"最佳" XML 标签进行训练，尽管我们建议您的标签名称与其周围的信息相符。</Note>

***

## 标签最佳实践

1. **保持一致**：在整个提示词中使用相同的标签名称，并在讨论内容时引用这些标签名称（例如，`使用 <contract> 标签中的合同...`）。
2. **嵌套标签**：您应该为分层内容嵌套标签 `<outer><inner></inner></outer>`。

<Tip>**高级用户提示**：将 XML 标签与其他技术（如多次提示 (`<examples>`) 或思维链 (`<thinking>`、`<answer>`)）结合使用。这会创建超级结构化、高性能的提示词。</Tip>

### 示例

  <section title="示例：生成财务报告">

    没有 XML 标签，Claude 会误解任务并生成与所需结构或语气不匹配的报告。替换后，Claude 也可能误解一个部分（如 Q1 报告示例）在哪里结束，另一个部分在哪里开始。

    | 角色 | 无 XML 标签 | 有 XML 标签 |
    | ---- | ----------- | ------------- |
    | 用户 | 您是 AcmeCorp 的财务分析师。为我们的投资者生成 Q2 财务报告。包括收入增长、利润率和现金流部分，就像去年的这个示例一样：\{\{Q1_REPORT\}\}。使用此电子表格中的数据点：\{\{SPREADSHEET_DATA\}\}。报告应该非常简洁、切中要点、专业，并采用列表格式。它应该突出优势和改进领域。 | 您是 AcmeCorp 的财务分析师。为我们的投资者生成 Q2 财务报告。<br/><br/>AcmeCorp 是一家 B2B SaaS 公司。我们的投资者重视透明度和可行的见解。<br/><br/>使用此数据进行您的报告：\<data>\{\{SPREADSHEET_DATA\}\}\</data><br/><br/>\<instructions><br/>1. 包括部分：收入增长、利润率、现金流。<br/>2. 突出优势和改进领域。<br/>\</instructions><br/><br/>使您的语气简洁和专业。遵循此结构：<br/>\<formatting_example>\{\{Q1_REPORT\}\}\</formatting_example> |
    | 助手 | AcmeCorp 投资者 Q2 财务报告<br/><br/>尊敬的投资者，<br/><br/>我很高兴为您呈现我们的 Q2 财务报告，展示 AcmeCorp 在 B2B SaaS 市场中的持续增长和韧性。<br/><br/>1. 收入增长：<br/>我们的 Q2 收入达到 \$15.2M，同比增长 22%。这种增长主要由企业客户群 30% 的扩展驱动。然而，我们的 SMB 部分出现了 5% 的小幅下降，我们计划通过 Q3 的有针对性的营销举措来解决这个问题。<br/><br/>2. 利润率：<br/>由于基础设施优化，毛利率提高到 72%（比 Q1 提高 3%）。然而，EBITDA 利润率下降到 18%（下降 2%），因为我们在即将推出的 AI 驱动功能的研发中投入了大量资金。<br/><br/>3. 现金流：<br/>营运现金流保持强劲，达到 \$4.1M。我们的现金储备为 \$28M，按当前烧钱率提供 15 个月的跑道。我们确实看到客户获取成本增加了 20%，我们正在通过更高效的销售策略来解决这个问题。<br/><br/>总之，AcmeCorp 的核心财务保持稳健。我们在平衡增长投资和谨慎的现金管理。我们对 Q3 的重点是振兴 SMB 增长和优化销售效率。<br/><br/>感谢您的持续信任。<br/><br/>此致<br/>敬礼，<br/>首席财务官，AcmeCorp | Q2 财务报告 AcmeCorp 投资者\</output><br/><br/>收入增长：<br/>- Q2 收入：\$15.2M（同比增长 22% ↑）<br/>- 企业客户：30% ↑<br/>- SMB 部分：5% ↓<br/>  行动：有针对性的 Q3 营销<br/><br/>利润率：<br/>- 毛利率：72%（比 Q1 提高 3% ↑）<br/>  原因：基础设施优化<br/>- EBITDA 利润率：18%（下降 2% ↓）<br/>  原因：AI 功能研发投资<br/><br/>现金流：<br/>- 营运现金流：\$4.1M（强劲）<br/>- 现金储备：\$28M（15 个月跑道）<br/>- 客户获取成本：20% ↑<br/>  行动：优化销售策略<br/><br/>展望：<br/>- 核心财务：稳健<br/>- Q3 重点：振兴 SMB，优化销售<br/><br/>管理层致力于平衡增长投资和财务纪律。 |
  
</section>
  <section title="示例：法律合同分析">

    没有 XML 标签，Claude 的分析是混乱的，遗漏了关键要点。使用标签，它提供了一个结构化、彻底的分析，法律团队可以采取行动。

    | 角色 | 无 XML 标签 | 有 XML 标签 |
    | ---- | ----------- | ------------- |
    | 用户 | 分析此软件许可协议中的潜在风险和责任：\{\{CONTRACT\}\}。重点关注赔偿、责任限制和知识产权所有权条款。另外，注意任何不寻常或令人担忧的条款。这是我们的标准合同供参考：\{\{STANDARD_CONTRACT\}\}。为我们的法律团队提供调查结果和建议的摘要。 | 分析此软件许可协议中的法律风险和责任。<br/><br/>我们是一家跨国企业，正在考虑将此协议用于我们的核心数据基础设施。<br/><br/>\<agreement><br/>\{\{CONTRACT\}\}\</agreement><br/><br/>这是我们的标准合同供参考：<br/>\<standard_contract>\{\{STANDARD_CONTRACT\}\}\</standard_contract><br/><br/>\<instructions><br/>1. 分析这些条款：<br/>   - 赔偿<br/>   - 责任限制<br/>   - 知识产权所有权<br/><br/>2. 注意不寻常或令人担忧的条款。<br/><br/>3. 与我们的标准合同进行比较。<br/><br/>4. 在 \<findings> 标签中总结调查结果。<br/><br/>5. 在 \<recommendations> 标签中列出可行的建议。\</instructions> |
    | 助手 | 提供的软件许可协议呈现了几个令人担忧的方面。赔偿条款过于宽泛，可能使我们面临重大责任。责任限制部分将损害赔偿限制在仅 \$500，这对我们的企业级使用来说是不足的。关于知识产权，该协议授予供应商对我们创建的任何修改或集成的联合所有权。<br/><br/>总之，此协议不符合我们的最佳利益。它使我们面临不必要的风险，限制了我们在故障情况下的追索权，并损害了我们的知识产权。我建议重新协商这些条款或寻求替代供应商。 | \<findings><br/>1. 赔偿（第 8 条）：<br/>   - 问题：过于宽泛。我们赔偿供应商因我们使用而产生的"任何和所有索赔"。<br/>   - 风险：即使供应商疏忽或产品缺陷，也可能使我们承担责任。<br/>   - 偏差：我们的标准将赔偿限制为因我们违反协议而产生的索赔。<br/><br/>2. 责任限制（第 9 条）：<br/>   - 问题：将所有损害赔偿限制在 \$500，包括直接损害。<br/>   - 风险：对于企业使用来说严重不足。关键故障可能造成数百万美元的损失。<br/>   - 偏差：我们的标准允许直接损害赔偿最高为已支付费用的 12 个月。<br/><br/>3. 知识产权所有权（第 12 条）：<br/>   - 问题：授予供应商对我们修改/集成的联合所有权。<br/>   - 风险：供应商可能使用或出售我们的专有算法或数据见解。<br/>   - 偏差：我们的标准保留对我们工作的完全所有权。<br/><br/>4. 不寻常的条款：<br/>   - 第 5.3 条：供应商可以将我们的使用数据用于"任何目的"。<br/>   - 第 7.2 条：供应商可以"随意"终止，仅需 7 天通知。<br/>   - 第 11 条：没有任何保证，甚至没有基本的适销性保证。<br/>\</findings><br/><br/>\<recommendations><br/>1. 拒绝此协议。对于企业来说，风险远大于收益。<br/>2. 反提议：<br/>   - 赔偿：限制为因我们违反协议而产生的索赔。<br/>   - 责任：直接损害赔偿限制为 12 个月的费用；协商间接损害。<br/>   - 知识产权：对我们的修改/集成拥有完全所有权。<br/>   - 数据使用：仅限于服务改进。<br/>   - 终止：最少 90 天通知；仅因故而终止。<br/>   - 保证：要求基本的适销性和适用性保证。<br/>3. 如果供应商拒绝，探索替代提供商或内部解决方案。<br/>4. 鉴于风险很高，聘请法律顾问进行合同谈判。<br/>\</recommendations> |
  
</section>

***

<CardGroup cols={3}>
  <Card title="提示词库" icon="link" href="/docs/zh-CN/resources/prompt-library/library">
    获得为各种任务和用例精选的提示词的灵感。
  </Card>
  <Card title="GitHub 提示工程教程" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    一个充满示例的教程，涵盖我们文档中的提示工程概念。
  </Card>
  <Card title="Google Sheets 提示工程教程" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    通过交互式电子表格提供的我们提示工程教程的轻量级版本。
  </Card>
</CardGroup>
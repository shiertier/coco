# XMLタグを使用してプロンプトを構造化する

XMLタグを使用してプロンプトを構造化し、Claudeの解析精度を向上させる方法を学びます。

---

<Note>
While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

プロンプトにコンテキスト、指示、例などの複数のコンポーネントが含まれている場合、XMLタグは大きな変化をもたらします。これらはClaudeがプロンプトをより正確に解析するのに役立ち、より高品質の出力につながります。

<Tip>**XMLのヒント**: `<instructions>`、`<example>`、`<formatting>`などのタグを使用して、プロンプトのさまざまな部分を明確に分離します。これにより、Claudeが指示と例またはコンテキストを混同することを防ぎます。</Tip>

## XMLタグを使用する理由

- **明確性:** プロンプトのさまざまな部分を明確に分離し、プロンプトが適切に構造化されていることを確認します。
- **正確性:** Claudeがプロンプトの一部を誤解することによって引き起こされるエラーを減らします。
- **柔軟性:** プロンプトのすべてを書き直すことなく、プロンプトの一部を簡単に見つけたり、追加したり、削除したり、変更したりできます。
- **解析可能性:** Claudeが出力でXMLタグを使用することで、後処理によって応答の特定の部分を抽出しやすくなります。

<Note>Claudeが特に訓練された標準的な「最適な」XMLタグはありませんが、タグ名がそれらが囲む情報と意味をなすことをお勧めします。</Note>

***

## タグ付けのベストプラクティス

1. **一貫性を保つ**: プロンプト全体で同じタグ名を使用し、コンテンツについて話すときにそれらのタグ名を参照します（例：`<contract>タグ内の契約を使用して...`）。
2. **タグをネストする**: 階層的なコンテンツについては、`<outer><inner></inner></outer>`のようにタグをネストする必要があります。

<Tip>**パワーユーザーのヒント**: XMLタグを、マルチショットプロンプティング（`<examples>`）やチェーン・オブ・ソート（`<thinking>`、`<answer>`）などの他の技術と組み合わせます。これにより、超構造化された高性能なプロンプトが作成されます。</Tip>

### 例

  <section title="例: 財務報告書の生成">

    XMLタグがない場合、Claudeはタスクを誤解し、必要な構造またはトーンと一致しない報告書を生成します。置換後、Claudeが1つのセクション（Q1報告書の例など）が終わり、別のセクションが始まる場所を誤解する可能性もあります。

    | 役割 | XMLタグなし | XMLタグあり |
    | ---- | ----------- | ------------- |
    | ユーザー | あなたはAcmeCorpの財務アナリストです。投資家向けのQ2財務報告書を生成してください。昨年の例のように、収益成長、利益率、キャッシュフローのセクションを含めてください：\{\{Q1_REPORT\}\}。このスプレッドシートのデータポイントを使用してください：\{\{SPREADSHEET_DATA\}\}。報告書は非常に簡潔で、要点を押さえ、専門的で、リスト形式である必要があります。強みと改善の余地のある領域の両方を強調する必要があります。 | あなたはAcmeCorpの財務アナリストです。投資家向けのQ2財務報告書を生成してください。<br/><br/>AcmeCorpはB2B SaaSの企業です。投資家は透明性と実行可能な洞察を重視しています。<br/><br/>報告書にこのデータを使用してください：\<data>\{\{SPREADSHEET_DATA\}\}\</data><br/><br/>\<instructions><br/>1. セクションを含める：収益成長、利益率、キャッシュフロー。<br/>2. 強みと改善の余地のある領域を強調する。<br/>\</instructions><br/><br/>トーンを簡潔で専門的にしてください。この構造に従ってください：<br/>\<formatting_example>\{\{Q1_REPORT\}\}\</formatting_example> |
    | アシスタント | AcmeCorp投資家向けQ2財務報告書<br/><br/>親愛なる投資家の皆様へ<br/><br/>AcmeCorpのQ2財務報告書をお届けします。B2B SaaS市場におけるAcmeCorpの継続的な成長と回復力を示しています。<br/><br/>1. 収益成長：<br/>Q2の収益は1,520万ドルに達し、前年比22%の増加です。この成長は主にエンタープライズクライアントベースの30%拡大によって推進されています。ただし、SMBセグメントは5%の小幅な低下を見ました。これはQ3の標的型マーケティングイニシアティブで対処することを目指しています。<br/><br/>2. 利益率：<br/>インフラストラクチャの最適化により、粗利益率は72%に改善されました（Q1から3%上昇）。ただし、EBITDA利益率は18%に低下しました（2%低下）。これは、今後のAI駆動機能のR&Dへの大規模な投資によるものです。<br/><br/>3. キャッシュフロー：<br/>営業キャッシュフローは410万ドルで堅調です。現金準備は2,800万ドルで、現在のバーンレートで15ヶ月のランウェイを提供しています。顧客獲得コストが20%増加しましたが、これはより効率的な営業戦略を通じて対処しています。<br/><br/>要約すると、AcmeCorpのコア財務は堅牢です。成長投資と慎重なキャッシュ管理のバランスを取っています。Q3の焦点はSMB成長の活性化と営業効率の最適化です。<br/><br/>継続的なご信頼をありがとうございます。<br/><br/>敬具<br/>最高財務責任者、AcmeCorp | Q2財務報告書AcmeCorp投資家向け\</output><br/><br/>収益成長：<br/>- Q2収益：1,520万ドル（前年比22%↑）<br/>- エンタープライズクライアント：30%↑<br/>- SMBセグメント：5%↓<br/>  アクション：Q3標的型マーケティング<br/><br/>利益率：<br/>- 粗利益率：72%（Q1から3%↑）<br/>  理由：インフラストラクチャの最適化<br/>- EBITDA利益率：18%（2%↓）<br/>  理由：AI機能のR&D投資<br/><br/>キャッシュフロー：<br/>- 営業キャッシュフロー：410万ドル（堅調）<br/>- 現金準備：2,800万ドル（15ヶ月のランウェイ）<br/>- 顧客獲得コスト：20%↑<br/>  アクション：営業戦略を最適化<br/><br/>見通し：<br/>- コア財務：堅牢<br/>- Q3の焦点：SMBを活性化、営業を最適化<br/><br/>経営陣は成長投資と財務規律のバランスを取ることに専念しています。 |
  
</section>
  <section title="例: 法的契約分析">

    XMLタグがない場合、Claudeの分析は整理されておらず、重要なポイントを見落とします。タグを使用すると、法務チームが対応できる構造化された徹底的な分析が提供されます。

    | 役割 | XMLタグなし | XMLタグあり |
    | ---- | ----------- | ------------- |
    | ユーザー | このソフトウェアライセンス契約を潜在的なリスクと責任について分析してください：\{\{CONTRACT\}\}。補償、責任の制限、IP所有権条項に焦点を当ててください。また、異常または懸念される条項に注意してください。参考用に標準契約を以下に示します：\{\{STANDARD_CONTRACT\}\}。法務チーム向けの調査結果と推奨事項の概要を提供してください。 | このソフトウェアライセンス契約を法的リスクと責任について分析してください。<br/><br/>当社は、このコア データインフラストラクチャの契約を検討している多国籍企業です。<br/><br/>\<agreement><br/>\{\{CONTRACT\}\}\</agreement><br/><br/>これは参考用の標準契約です：<br/>\<standard_contract>\{\{STANDARD_CONTRACT\}\}\</standard_contract><br/><br/>\<instructions><br/>1. これらの条項を分析してください：<br/>   - 補償<br/>   - 責任の制限<br/>   - IP所有権<br/><br/>2. 異常または懸念される条項に注意してください。<br/><br/>3. 標準契約と比較してください。<br/><br/>4. \<findings>タグで調査結果を要約してください。<br/><br/>5. \<recommendations>タグで実行可能な推奨事項をリストアップしてください。\</instructions> |
    | アシスタント | 提供されたソフトウェアライセンス契約には、いくつかの懸念される側面があります。補償条項は非常に広く、当社に重大な責任を負わせる可能性があります。責任の制限セクションは損害賠償を単なる500ドルに制限しており、これはエンタープライズレベルの使用には不十分です。IPに関しては、契約は当社が作成または統合する変更に対するベンダーとの共同所有権を付与しています。<br/><br/>要約すると、この契約は当社の最善の利益ではありません。当社を過度なリスクにさらし、障害の場合の救済を制限し、知的財産権を損なわせます。これらの条項を再交渉するか、代替ベンダーを探すことをお勧めします。 | \<findings><br/>1. 補償（第8条）：<br/>   - 問題：非常に広い。当社の使用から生じる「あらゆる請求」に対してベンダーに補償します。<br/>   - リスク：ベンダーの過失または製品欠陥についても当社が責任を負う可能性があります。<br/>   - 偏差：当社の標準は、契約違反から生じる請求に補償を制限しています。<br/><br/>2. 責任の制限（第9条）：<br/>   - 問題：直接損害を含むすべての損害賠償を500ドルに制限しています。<br/>   - リスク：エンタープライズ使用には著しく不十分です。重大な障害は数百万ドルの費用がかかる可能性があります。<br/>   - 偏差：当社の標準では、直接損害を支払った手数料の12ヶ月分まで許可しています。<br/><br/>3. IP所有権（第12条）：<br/>   - 問題：当社の変更/統合に対するベンダーとの共同所有権を付与しています。<br/>   - リスク：ベンダーは当社の専有アルゴリズムまたはデータインサイトを使用または販売する可能性があります。<br/>   - 偏差：当社の標準は当社の作業の完全な所有権を保持しています。<br/><br/>4. 異常な条項：<br/>   - 第5.3条：ベンダーは当社の使用データを「あらゆる目的」で使用できます。<br/>   - 第7.2条：ベンダーは「便宜上」わずか7日間の通知で終了できます。<br/>   - 第11条：基本的な商品性についても、いかなる保証もありません。<br/>\</findings><br/><br/>\<recommendations><br/>1. この契約を拒否してください。エンタープライズにとってリスクはメリットをはるかに上回ります。<br/>2. 反対提案：<br/>   - 補償：契約違反から生じる請求に制限してください。<br/>   - 責任：直接損害について支払った手数料の12ヶ月分に制限してください。間接損害について交渉してください。<br/>   - IP：当社の変更/統合の完全な所有権。<br/>   - データ使用：サービス改善のみに制限してください。<br/>   - 終了：最低90日間の通知。原因がある場合のみ。<br/>   - 保証：基本的な商品性と適合性の保証を要求してください。<br/>3. ベンダーが拒否した場合、代替プロバイダーまたは社内ソリューションを検討してください。<br/>4. 高いステークスを考慮して、契約交渉のために法務顧問を関与させてください。<br/>\</recommendations> |
  
</section>

***

<CardGroup cols={3}>
  <Card title="プロンプトライブラリ" icon="link" href="/docs/ja/resources/prompt-library/library">
    さまざまなタスクとユースケース向けの厳選されたプロンプトのセレクションからインスピレーションを得てください。
  </Card>
  <Card title="GitHubプロンプティングチュートリアル" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    ドキュメントに記載されているプロンプトエンジニアリングの概念をカバーする例が豊富なチュートリアル。
  </Card>
  <Card title="Google Sheetsプロンプティングチュートリアル" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    インタラクティブなスプレッドシートを通じたプロンプトエンジニアリングチュートリアルの軽量版。
  </Card>
</CardGroup>
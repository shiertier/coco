# システムプロンプトでClaudeに役割を与える

システムプロンプトを使用してClaudeに特定の役割を与え、パフォーマンスを大幅に向上させる方法を学びます。

---

<Note>
While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

Claudeを使用する際、`system`パラメータを使用して役割を与えることで、パフォーマンスを劇的に向上させることができます。この手法は役割プロンプティングとして知られており、Claudeでシステムプロンプトを使用する最も強力な方法です。

適切な役割により、Claudeは汎用アシスタントから仮想ドメインエキスパートに変わります！

<Tip>**システムプロンプトのヒント**: `system`パラメータを使用してClaudeの役割を設定します。タスク固有の指示など、その他すべてのものは、代わりに`user`ターンに入れてください。</Tip>

## 役割プロンプティングを使用する理由

- **精度の向上:** 法的分析や財務モデリングなどの複雑なシナリオでは、役割プロンプティングはClaudeのパフォーマンスを大幅に向上させることができます。
- **カスタマイズされたトーン:** CFOの簡潔さやコピーライターの才能が必要かどうかにかかわらず、役割プロンプティングはClaudeのコミュニケーションスタイルを調整します。
- **改善されたフォーカス:** 役割コンテキストを設定することで、Claudeはタスクの特定の要件の範囲内により留まります。

***

## Claudeに役割を与える方法

[Messages API](/docs/ja/api/messages)で`system`パラメータを使用してClaudeの役割を設定します：

```python
import anthropic

client = anthropic.Anthropic()

response = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=2048,
    system="You are a seasoned data scientist at a Fortune 500 company.", # <-- role prompt
    messages=[
        {"role": "user", "content": "Analyze this dataset for anomalies: <dataset>{{DATASET}}</dataset>"}
    ]
)

print(response.content)
```

<Tip>**役割プロンプティングのヒント**: 役割を試してみてください！`data scientist`は同じデータに対して`marketing strategist`とは異なるインサイトを見つけるかもしれません。`Fortune 500企業の顧客インサイト分析を専門とするdata scientist`はさらに異なる結果をもたらすかもしれません！</Tip>

***

## 例

### 例1: 法的契約分析
役割がない場合、Claudeは重大な問題を見落とす可能性があります：

<section title="役割プロンプティングなしの法的契約分析">

| Role | Content |
| ---- | ------- |
| User | このソフトウェアライセンス契約を潜在的なリスクについて分析してください：<br/>\<contract><br/>\{\{CONTRACT\}\}<br/>\</contract><br/><br/>補償、責任、およびIP所有権に焦点を当ててください。 |
| Assistant | ソフトウェアライセンス契約の主要なポイントの概要は次のとおりです：<br/><br/>1. 補償（セクション8）：<br/>   - 当社の使用から生じるクレームに対してベンダーに補償します。<br/><br/>2. 責任の制限（セクション9）：<br/>   - 損害賠償は$500でキャップされています。<br/><br/>3. IP所有権（セクション12）：<br/>   - 当社は当社の修正の所有権を保持します。<br/><br/>全体的に、契約は標準的なようです。補償と責任条項は典型的であり、当社はIP権を維持しています。 |

</section>

役割がある場合、Claudeは数百万ドルの費用がかかる可能性のある重大な問題を捕捉します：

<section title="役割プロンプティングを使用した法的契約分析">

| Role | Content |
| ---- | ------- |
| User | あなたはFortune 500テクノロジー企業の最高法務責任者です。当社のコアデータインフラストラクチャ用にこのソフトウェアライセンス契約を検討しています：<br/>\<contract><br/>\{\{CONTRACT\}\}<br/>\</contract><br/><br/>潜在的なリスクについて分析し、補償、責任、およびIP所有権に焦点を当ててください。専門的な意見を提供してください。 |
| Assistant | ソフトウェアライセンス契約を確認しましたが、当社を重大なリスクにさらす可能性のある深刻な懸念があります：<br/><br/>1. 補償（セクション8）：<br/>   - 重大な問題: 当社の使用から生じる「あらゆるクレーム」に対してベンダーに補償します。<br/>   - リスク: これにより、ベンダーの過失または製品欠陥についても当社が責任を負う可能性があります。<br/>   - 推奨事項: 拒否します。当社の補償を契約違反から生じるクレームに限定してください。<br/><br/>2. 責任の制限（セクション9）：<br/>   - 重大な問題: 直接損害を含む損害賠償が$500でキャップされています。<br/>   - リスク: 極めて不十分です。当社のデータインフラストラクチャの重大な障害は、失われた収益と評判の損害で数百万ドルの費用がかかる可能性があります。<br/>   - 推奨事項: 拒否します。直接損害については12ヶ月の手数料でキャップを交渉し、データ侵害については除外してください。<br/><br/>3. IP所有権（セクション12）：<br/>   - 重大な問題: ベンダーは当社の修正と統合の共同所有権を取得します。<br/>   - リスク: 当社の専有アルゴリズムまたはデータインサイトを競合他社に使用または販売する可能性があります。<br/>   - 推奨事項: 拒否します。当社は当社の作業の完全な所有権を保持する必要があります。<br/><br/>専門的な意見: この契約に署名しないでください。これは極めて不利であり、受け入れられないレベルのリスクにさらします。ベンダーがこれらの条件の再交渉を拒否する場合、代替プロバイダーの検討またはインハウスソリューションの加速を強くお勧めします。この契約を進める可能性のある費用は、短期的な利益をはるかに上回ります。 |

</section>

### 例2: 財務分析
役割がない場合、Claudeの分析は深さが不足しています：

<section title="役割プロンプティングなしの財務分析">

| Role | Content |
| ---- | ------- |
| User | 当社のQ2財務データセットを分析してください：<br/>\<data><br/>\{\{FINANCIALS\}\}<br/>\</data><br/><br/>主要なトレンドを強調し、アクションを推奨してください。 |
| Assistant | Q2財務の概要は次のとおりです：<br/><br/>1. 収益: $15.2M、前年同期比22%増。エンタープライズクライアントベースは30%増加しました。<br/>2. グロスマージン: 72%、Q1から3%増加。<br/>3. EBITDAマージン: 18%、R&D投資により2%減少。<br/>4. キャッシュフロー: $4.1M営業、$28M準備金。<br/><br/>全体的に、財務は収益成長と健全なマージンで強力に見えます。R&D支出の増加は収益性に影響していますが、長期的には報われる可能性があります。現在のコースを維持してください。 |

</section>

役割がある場合、Claudeは実行可能なインサイトを提供します：

<section title="役割プロンプティングを使用した財務分析">

| Role | Content |
| ---- | ------- |
| User | あなたは高成長B2B SaaS企業のCFOです。当社はQ2財務について取締役会会議で議論しています：<br/>\<data><br/>\{\{FINANCIALS\}\}<br/>\</data><br/><br/>主要なトレンドを分析し、懸念事項にフラグを立て、戦略的アクションを推奨してください。当社の投資家は積極的な成長を望んでいますが、当社のバーンレートについて懸念しています。 |
| Assistant | 取締役会メンバーの皆様、Q2財務の分析は次のとおりです：<br/><br/>1. 収益（$15.2M、+22% YoY）：<br/>   - インサイト: エンタープライズ成長（+30%）は全体的な成長を上回っています。<br/>   - フラグ: SMBセグメントは5%減少しました。<br/>   - アクション: SMBマーケティング予算の20%をエンタープライズセールスに再配分します。SMBオンボーディングを簡素化するようにプロダクトに指示します。<br/><br/>2. マージン（グロス: 72%、+3% QoQ; EBITDA: 18%、-2% QoQ）：<br/>   - インサイト: インフラストラクチャの最適化がグロスマージンを向上させました。<br/>   - フラグ: AI機能のR&D支出がEBITDAを低下させました。<br/>   - アクション: 変更なし。当社のAIロードマップはエンタープライズの粘着性に重要です。<br/><br/>3. キャッシュ（$4.1M OCF、$28M準備金）：<br/>   - インサイト: 現在のバーンレートで15ヶ月のランウェイ。<br/>   - フラグ: CACが20%増加し、LTV/CACを低下させています。<br/>   - アクション: 非必須の採用を凍結します。Q3でCACを15%削減するために営業ファネル分析を実装します。<br/><br/>戦略的スタンス: 当社は成長とバーンの間で針を通しています。エンタープライズフォーカスは当社の成長エンジンです。そこに投資してください。しかし、SMBチャーンを監視してください。エンタープライズに流出する可能性があります。当社のAIベットは健全ですが、Q4までにそれをARRに変換する必要があります。そうでなければ、R&Dを30%削減します。<br/><br/>要約すると: エンタープライズに倍増し、SMBを合理化し、セールスを最適化し、AIを収益化します。ご質問はありますか？ |

</section>

---

<CardGroup cols={3}>
  <Card title="プロンプトライブラリ" icon="link" href="/docs/ja/resources/prompt-library/library">
    様々なタスクとユースケース用にキュレーションされたプロンプトの選択からインスピレーションを得てください。
  </Card>
  <Card title="GitHubプロンプティングチュートリアル" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    当社のドキュメントに記載されているプロンプトエンジニアリングの概念をカバーする例が豊富なチュートリアル。
  </Card>
  <Card title="Google Sheetsプロンプティングチュートリアル" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    インタラクティブなスプレッドシート経由のプロンプトエンジニアリングチュートリアルのより軽量なバージョン。
  </Card>
</CardGroup>
# Фабрикатор функций

Создавайте Python функции на основе детальных спецификаций.

---

> Скопируйте этот промпт в нашу [Консоль](/dashboard) разработчика, чтобы попробовать самостоятельно!

|        | Содержание |
| --- | --- |
| System | Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации. |
| User   | Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку. |

## Пример вывода

```python Python
def solve_sudoku(grid):
   def is_valid(row, col, num):
       # Проверяем, является ли число действительным в текущей строке и столбце
       for i in range(9):
           if grid[row][i] == num or grid[i][col] == num:
               return False

       # Проверяем, является ли число действительным в текущей подсетке 3x3
       start_row, start_col = (row // 3) * 3, (col // 3) * 3
       for i in range(3):
           for j in range(3):
               if grid[start_row + i][start_col + j] == num:
                   return False

       return True

   def backtrack(row, col):
       # Если мы заполнили все ячейки, головоломка решена
       if row == 9:
           return True

       # Переходим к следующей строке, если достигли конца текущей строки
       if col == 9:
           return backtrack(row + 1, 0)

       # Если текущая ячейка уже заполнена, переходим к следующей ячейке
       if grid[row][col] != 0:
           return backtrack(row, col + 1)

       # Пытаемся заполнить текущую ячейку числами от 1 до 9
       for num in range(1, 10):
           if is_valid(row, col, num):
               grid[row][col] = num
               if backtrack(row, col + 1):
                   return True
               grid[row][col] = 0

       # Если действительное число не найдено, возвращаемся назад
       return False

   # Проверяем входную сетку
   if not all(len(row) == 9 and all(0 <= cell <= 9 for cell in row) for row in grid):
       return None

   # Запускаем алгоритм возврата
   if backtrack(0, 0):
       return grid
   else:
       return None

```

---

## API запрос

<Tabs>
<Tab title="Python">
```python
import anthropic

client = anthropic.Anthropic(  # по умолчанию os.environ.get("ANTHROPIC_API_KEY")
    api_key="my_api_key",
)
message = client.messages.create(
    model="claude-sonnet-4-5",
    max_tokens=1000,
    temperature=0,
    system="Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку.",
                }
            ],
        }
    ],
)
print(message.content)


```
</Tab>
<Tab title="TypeScript">

```typescript
import Anthropic from "@anthropic-ai/sdk";

const anthropic = new Anthropic({
  apiKey: "my_api_key", // по умолчанию process.env["ANTHROPIC_API_KEY"]
});

const msg = await anthropic.messages.create({
  model: "claude-sonnet-4-5",
  max_tokens: 1000,
  temperature: 0,
  system: "Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
  messages: [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку."
        }
      ]
    }
  ]
});
console.log(msg);

````

</Tab>
<Tab title="AWS Bedrock Python">
```python
from anthropic import AnthropicBedrock

# См. https://docs.claude.com/claude/reference/claude-on-amazon-bedrock

# для вариантов аутентификации

client = AnthropicBedrock()

message = client.messages.create(
model="anthropic.claude-sonnet-4-5-20250929-v1:0",
max_tokens=1000,
temperature=0,
system="Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
messages=[
{
"role": "user",
"content": [
{
"type": "text",
"text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку."
}
]
}
]
)
print(message.content)

````
</Tab>
<Tab title="AWS Bedrock TypeScript">

```typescript
import AnthropicBedrock from "@anthropic-ai/bedrock-sdk";

// См. https://docs.claude.com/claude/reference/claude-on-amazon-bedrock
// для вариантов аутентификации
const client = new AnthropicBedrock();

const msg = await client.messages.create({
  model: "anthropic.claude-sonnet-4-5-20250929-v1:0",
  max_tokens: 1000,
  temperature: 0,
  system: "Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
  messages: [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку."
        }
      ]
    }
  ]
});
console.log(msg);

````

</Tab>
<Tab title="Vertex AI Python">
```python
from anthropic import AnthropicVertex

client = AnthropicVertex()

message = client.messages.create(
model="claude-sonnet-4@20250514",
max_tokens=1000,
temperature=0,
system="Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
messages=[
{
"role": "user",
"content": [
{
"type": "text",
"text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку."
}
]
}
]
)
print(message.content)

````
</Tab>
<Tab title="Vertex AI TypeScript">

```typescript
import { AnthropicVertex } from '@anthropic-ai/vertex-sdk';

// Читает из переменных окружения `CLOUD_ML_REGION` и `ANTHROPIC_VERTEX_PROJECT_ID`.
// Дополнительно проходит через стандартный поток `google-auth-library`.
const client = new AnthropicVertex();

const msg = await client.messages.create({
  model: "claude-sonnet-4@20250514",
  max_tokens: 1000,
  temperature: 0,
  system: "Ваша задача - создавать Python функции на основе предоставленных запросов на естественном языке. Запросы будут описывать желаемую функциональность функции, включая входные параметры и ожидаемое возвращаемое значение. Реализуйте функции согласно данным спецификациям, убедившись, что они обрабатывают крайние случаи, выполняют необходимые проверки и следуют лучшим практикам программирования на Python. Пожалуйста, включите соответствующие комментарии в код для объяснения логики и помощи другим разработчикам в понимании реализации.",
  messages: [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Мне нужна функция, которая может решать головоломку Судоку. Функция должна принимать сетку Судоку 9x9 в качестве входных данных, где пустые ячейки представлены значением 0. Функция должна решать головоломку, используя алгоритм возврата, и возвращать решенную сетку. Если головоломка неразрешима, она должна возвращать None. Функция также должна проверять входную сетку, чтобы убедиться, что это действительная головоломка Судоку."
        }
      ]
    }
  ]
});
console.log(msg);

````

</Tab>
</Tabs>
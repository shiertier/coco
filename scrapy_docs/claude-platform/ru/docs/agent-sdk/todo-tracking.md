# –°–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ —Å –ø–æ–º–æ—â—å—é Claude Agent SDK –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏

---

–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. Claude Agent SDK –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫—É—Ä—Å–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á

–ó–∞–¥–∞—á–∏ —Å–ª–µ–¥—É—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –∂–∏–∑–Ω–µ–Ω–Ω–æ–º—É —Ü–∏–∫–ª—É:
1. **–°–æ–∑–¥–∞—é—Ç—Å—è** –∫–∞–∫ `pending`, –∫–æ–≥–¥–∞ –∑–∞–¥–∞—á–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
2. **–ê–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è** –≤ `in_progress`, –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞
3. **–ó–∞–≤–µ—Ä—à–∞—é—Ç—Å—è**, –∫–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
4. **–£–¥–∞–ª—è—é—Ç—Å—è**, –∫–æ–≥–¥–∞ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –≥—Ä—É–ø–ø–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–¥–∞—á–∏

SDK –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á–∏ –¥–ª—è:
- **–°–ª–æ–∂–Ω—ã—Ö –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –∑–∞–¥–∞—á**, —Ç—Ä–µ–±—É—é—â–∏—Ö 3 –∏–ª–∏ –±–æ–ª–µ–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á**, –∫–æ–≥–¥–∞ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ù–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –æ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–Ø–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ—Å—è—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∑–∞–¥–∞—á

## –ü—Ä–∏–º–µ—Ä—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–¥–∞—á

<CodeGroup>

```typescript TypeScript
import { query } from "@anthropic-ai/claude-agent-sdk";

for await (const message of query({
  prompt: "–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–µ–≥–æ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –∑–∞–¥–∞—á–∞–º–∏",
  options: { maxTurns: 15 }
})) {
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–æ—Ç–æ–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π
  if (message.type === "tool_use" && message.name === "TodoWrite") {
    const todos = message.input.todos;
    
    console.log("–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á:");
    todos.forEach((todo, index) => {
      const status = todo.status === "completed" ? "‚úÖ" : 
                    todo.status === "in_progress" ? "üîß" : "‚ùå";
      console.log(`${index + 1}. ${status} ${todo.content}`);
    });
  }
}
```

```python Python
from claude_agent_sdk import query

async for message in query(
    prompt="–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–µ–≥–æ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –∑–∞–¥–∞—á–∞–º–∏",
    options={"max_turns": 15}
):
    # –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–æ—Ç–æ–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π
    if message.get("type") == "tool_use" and message.get("name") == "TodoWrite":
        todos = message["input"]["todos"]
        
        print("–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á:")
        for i, todo in enumerate(todos):
            status = "‚úÖ" if todo["status"] == "completed" else \
                    "üîß" if todo["status"] == "in_progress" else "‚ùå"
            print(f"{i + 1}. {status} {todo['content']}")
```

</CodeGroup>

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

<CodeGroup>

```typescript TypeScript
import { query } from "@anthropic-ai/claude-agent-sdk";

class TodoTracker {
  private todos: any[] = [];
  
  displayProgress() {
    if (this.todos.length === 0) return;
    
    const completed = this.todos.filter(t => t.status === "completed").length;
    const inProgress = this.todos.filter(t => t.status === "in_progress").length;
    const total = this.todos.length;
    
    console.log(`\n–ü—Ä–æ–≥—Ä–µ—Å—Å: ${completed}/${total} –∑–∞–≤–µ—Ä—à–µ–Ω–æ`);
    console.log(`–°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥: ${inProgress} –∑–∞–¥–∞—á(–µ–π)\n`);
    
    this.todos.forEach((todo, index) => {
      const icon = todo.status === "completed" ? "‚úÖ" : 
                  todo.status === "in_progress" ? "üîß" : "‚ùå";
      const text = todo.status === "in_progress" ? todo.activeForm : todo.content;
      console.log(`${index + 1}. ${icon} ${text}`);
    });
  }
  
  async trackQuery(prompt: string) {
    for await (const message of query({
      prompt,
      options: { maxTurns: 20 }
    })) {
      if (message.type === "tool_use" && message.name === "TodoWrite") {
        this.todos = message.input.todos;
        this.displayProgress();
      }
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const tracker = new TodoTracker();
await tracker.trackQuery("–°–æ–∑–¥–∞–π –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∑–∞–¥–∞—á–∞–º–∏");
```

```python Python
from claude_agent_sdk import query
from typing import List, Dict

class TodoTracker:
    def __init__(self):
        self.todos: List[Dict] = []
    
    def display_progress(self):
        if not self.todos:
            return
        
        completed = len([t for t in self.todos if t["status"] == "completed"])
        in_progress = len([t for t in self.todos if t["status"] == "in_progress"])
        total = len(self.todos)
        
        print(f"\n–ü—Ä–æ–≥—Ä–µ—Å—Å: {completed}/{total} –∑–∞–≤–µ—Ä—à–µ–Ω–æ")
        print(f"–°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥: {in_progress} –∑–∞–¥–∞—á(–µ–π)\n")
        
        for i, todo in enumerate(self.todos):
            icon = "‚úÖ" if todo["status"] == "completed" else \
                  "üîß" if todo["status"] == "in_progress" else "‚ùå"
            text = todo["activeForm"] if todo["status"] == "in_progress" else todo["content"]
            print(f"{i + 1}. {icon} {text}")
    
    async def track_query(self, prompt: str):
        async for message in query(
            prompt=prompt,
            options={"max_turns": 20}
        ):
            if message.get("type") == "tool_use" and message.get("name") == "TodoWrite":
                self.todos = message["input"]["todos"]
                self.display_progress()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
tracker = TodoTracker()
await tracker.track_query("–°–æ–∑–¥–∞–π –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∑–∞–¥–∞—á–∞–º–∏")
```

</CodeGroup>

## –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ TypeScript SDK](/docs/ru/agent-sdk/typescript)
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Python SDK](/docs/ru/agent-sdk/python) 
- [–ü–æ—Ç–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ—Ç–∏–≤ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞](/docs/ru/agent-sdk/streaming-vs-single-mode)
- [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](/docs/ru/agent-sdk/custom-tools)